var ps=Object.defineProperty;var hs=(e,t,n)=>t in e?ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ms=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Z=(e,t,n)=>(hs(e,typeof t!="symbol"?t+"":t,n),n);var ld=ms((pe,he)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function O(){}function W(e,t){for(const n in t)e[n]=t[n];return e}function kr(e){return e()}function bn(){return Object.create(null)}function _e(e){e.forEach(kr)}function Er(e){return typeof e=="function"}function q(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function _s(e){return Object.keys(e).length===0}function Ue(e,...t){if(e==null)return O;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ct(e){let t;return Ue(e,n=>t=n)(),t}function de(e,t,n){e.$$.on_destroy.push(Ue(t,n))}function ge(e,t,n,r){if(e){const o=Sr(e,t,n,r);return e[0](o)}}function Sr(e,t,n,r){return e[1]&&r?W(n.ctx.slice(),e[1](r(t))):n.ctx}function be(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const s=[],i=Math.max(t.dirty.length,o.length);for(let l=0;l<i;l+=1)s[l]=t.dirty[l]|o[l];return s}return t.dirty|o}return t.dirty}function ye(e,t,n,r,o,s){if(o){const i=Sr(t,n,r,s);e.p(i,o)}}function we(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function se(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function h(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function We(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function ie(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function K(e){return document.createTextNode(e)}function x(){return K(" ")}function At(){return K("")}function Q(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function gs(e){return e===""?null:+e}function bs(e){return Array.from(e.childNodes)}function le(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function yn(e,t){e.value=t==null?"":t}function wn(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function vn(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function ys(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function M(e,t,n){e.classList[n?"add":"remove"](t)}let st;function tt(e){st=e}function Tt(){if(!st)throw new Error("Function called outside component initialization");return st}function ws(e){Tt().$$.on_mount.push(e)}function vs(e){Tt().$$.on_destroy.push(e)}function Nt(e,t){return Tt().$$.context.set(e,t),t}function Pt(e){return Tt().$$.context.get(e)}const et=[],De=[],pt=[],Kt=[],$s=Promise.resolve();let Vt=!1;function Cs(){Vt||(Vt=!0,$s.then(Ar))}function bt(e){pt.push(e)}function yt(e){Kt.push(e)}const Dt=new Set;let ft=0;function Ar(){const e=st;do{for(;ft<et.length;){const t=et[ft];ft++,tt(t),ks(t.$$)}for(tt(null),et.length=0,ft=0;De.length;)De.pop()();for(let t=0;t<pt.length;t+=1){const n=pt[t];Dt.has(n)||(Dt.add(n),n())}pt.length=0}while(et.length);for(;Kt.length;)Kt.pop()();Vt=!1,Dt.clear(),tt(e)}function ks(e){if(e.fragment!==null){e.update(),_e(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(bt)}}const ht=new Set;let xe;function Re(){xe={r:0,c:[],p:xe}}function ze(){xe.r||_e(xe.c),xe=xe.p}function S(e,t){e&&e.i&&(ht.delete(e),e.i(t))}function A(e,t,n,r){if(e&&e.o){if(ht.has(e))return;ht.add(e),xe.c.push(()=>{ht.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function qe(e,t){const n={},r={},o={$$scope:1};let s=e.length;for(;s--;){const i=e[s],l=t[s];if(l){for(const c in i)c in l||(r[c]=1);for(const c in l)o[c]||(n[c]=l[c],o[c]=1);e[s]=l}else for(const c in i)o[c]=1}for(const i in r)i in n||(n[i]=void 0);return n}function Ke(e){return typeof e=="object"&&e!==null?e:{}}function wt(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function R(e){e&&e.c()}function L(e,t,n,r){const{fragment:o,on_mount:s,on_destroy:i,after_update:l}=e.$$;o&&o.m(t,n),r||bt(()=>{const c=s.map(kr).filter(Er);i?i.push(...c):_e(c),e.$$.on_mount=[]}),l.forEach(bt)}function N(e,t){const n=e.$$;n.fragment!==null&&(_e(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Es(e,t){e.$$.dirty[0]===-1&&(et.push(e),Cs(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function V(e,t,n,r,o,s,i,l=[-1]){const c=st;tt(e);const a=e.$$={fragment:null,ctx:null,props:s,update:O,not_equal:o,bound:bn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:bn(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};i&&i(a.root);let u=!1;if(a.ctx=n?n(e,t.props||{},(f,d,...b)=>{const $=b.length?b[0]:d;return a.ctx&&o(a.ctx[f],a.ctx[f]=$)&&(!a.skip_bound&&a.bound[f]&&a.bound[f]($),u&&Es(e,f)),d}):[],a.update(),u=!0,_e(a.before_update),a.fragment=r?r(a.ctx):!1,t.target){if(t.hydrate){const f=bs(t.target);a.fragment&&a.fragment.l(f),f.forEach(y)}else a.fragment&&a.fragment.c();t.intro&&S(e.$$.fragment),L(e,t.target,t.anchor,t.customElement),Ar()}tt(c)}class J{$destroy(){N(this,1),this.$destroy=O}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!_s(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Ss=typeof global=="object"&&global&&global.Object===Object&&global;const Tr=Ss;var As=typeof self=="object"&&self&&self.Object===Object&&self,Ts=Tr||As||Function("return this")();const ve=Ts;var Ps=ve.Symbol;const Se=Ps;var Pr=Object.prototype,xs=Pr.hasOwnProperty,Os=Pr.toString,Ze=Se?Se.toStringTag:void 0;function Is(e){var t=xs.call(e,Ze),n=e[Ze];try{e[Ze]=void 0;var r=!0}catch{}var o=Os.call(e);return r&&(t?e[Ze]=n:delete e[Ze]),o}var Fs=Object.prototype,js=Fs.toString;function Ms(e){return js.call(e)}var Ls="[object Null]",Ns="[object Undefined]",$n=Se?Se.toStringTag:void 0;function Ve(e){return e==null?e===void 0?Ns:Ls:$n&&$n in Object(e)?Is(e):Ms(e)}function Ge(e){return e!=null&&typeof e=="object"}var Ds="[object Symbol]";function xt(e){return typeof e=="symbol"||Ge(e)&&Ve(e)==Ds}function Rs(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var zs=Array.isArray;const ne=zs;var Gs=1/0,Cn=Se?Se.prototype:void 0,kn=Cn?Cn.toString:void 0;function xr(e){if(typeof e=="string")return e;if(ne(e))return Rs(e,xr)+"";if(xt(e))return kn?kn.call(e):"";var t=e+"";return t=="0"&&1/e==-Gs?"-0":t}var Hs=/\s/;function Bs(e){for(var t=e.length;t--&&Hs.test(e.charAt(t)););return t}var Us=/^\s+/;function Ws(e){return e&&e.slice(0,Bs(e)+1).replace(Us,"")}function He(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var En=0/0,qs=/^[-+]0x[0-9a-f]+$/i,Ks=/^0b[01]+$/i,Vs=/^0o[0-7]+$/i,Js=parseInt;function Xs(e){if(typeof e=="number")return e;if(xt(e))return En;if(He(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=He(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ws(e);var n=Ks.test(e);return n||Vs.test(e)?Js(e.slice(2),n?2:8):qs.test(e)?En:+e}var Sn=1/0,Ys=17976931348623157e292;function mt(e){if(!e)return e===0?e:0;if(e=Xs(e),e===Sn||e===-Sn){var t=e<0?-1:1;return t*Ys}return e===e?e:0}function Or(e){var t=mt(e),n=t%1;return t===t?n?t-n:t:0}function rn(e){return e}var Zs="[object AsyncFunction]",Qs="[object Function]",eo="[object GeneratorFunction]",to="[object Proxy]";function sn(e){if(!He(e))return!1;var t=Ve(e);return t==Qs||t==eo||t==Zs||t==to}var no=ve["__core-js_shared__"];const Rt=no;var An=function(){var e=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ro(e){return!!An&&An in e}var so=Function.prototype,oo=so.toString;function Ie(e){if(e!=null){try{return oo.call(e)}catch{}try{return e+""}catch{}}return""}var io=/[\\^$.*+?()[\]{}|]/g,lo=/^\[object .+?Constructor\]$/,co=Function.prototype,ao=Object.prototype,uo=co.toString,fo=ao.hasOwnProperty,po=RegExp("^"+uo.call(fo).replace(io,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ho(e){if(!He(e)||ro(e))return!1;var t=sn(e)?po:lo;return t.test(Ie(e))}function mo(e,t){return e==null?void 0:e[t]}function Je(e,t){var n=mo(e,t);return ho(n)?n:void 0}var _o=Je(ve,"WeakMap");const Jt=_o;function go(e,t,n,r){for(var o=e.length,s=n+(r?1:-1);r?s--:++s<o;)if(t(e[s],s,e))return s;return-1}var bo=9007199254740991,yo=/^(?:0|[1-9]\d*)$/;function on(e,t){var n=typeof e;return t=t==null?bo:t,!!t&&(n=="number"||n!="symbol"&&yo.test(e))&&e>-1&&e%1==0&&e<t}function ln(e,t){return e===t||e!==e&&t!==t}var wo=9007199254740991;function cn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wo}function at(e){return e!=null&&cn(e.length)&&!sn(e)}function an(e,t,n){if(!He(n))return!1;var r=typeof t;return(r=="number"?at(n)&&on(t,n.length):r=="string"&&t in n)?ln(n[t],e):!1}var vo=Object.prototype;function Ir(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||vo;return e===n}function Fr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var $o="[object Arguments]";function Tn(e){return Ge(e)&&Ve(e)==$o}var jr=Object.prototype,Co=jr.hasOwnProperty,ko=jr.propertyIsEnumerable,Eo=Tn(function(){return arguments}())?Tn:function(e){return Ge(e)&&Co.call(e,"callee")&&!ko.call(e,"callee")};const un=Eo;function So(){return!1}var Mr=typeof pe=="object"&&pe&&!pe.nodeType&&pe,Pn=Mr&&typeof he=="object"&&he&&!he.nodeType&&he,Ao=Pn&&Pn.exports===Mr,xn=Ao?ve.Buffer:void 0,To=xn?xn.isBuffer:void 0,Po=To||So;const vt=Po;var xo="[object Arguments]",Oo="[object Array]",Io="[object Boolean]",Fo="[object Date]",jo="[object Error]",Mo="[object Function]",Lo="[object Map]",No="[object Number]",Do="[object Object]",Ro="[object RegExp]",zo="[object Set]",Go="[object String]",Ho="[object WeakMap]",Bo="[object ArrayBuffer]",Uo="[object DataView]",Wo="[object Float32Array]",qo="[object Float64Array]",Ko="[object Int8Array]",Vo="[object Int16Array]",Jo="[object Int32Array]",Xo="[object Uint8Array]",Yo="[object Uint8ClampedArray]",Zo="[object Uint16Array]",Qo="[object Uint32Array]",D={};D[Wo]=D[qo]=D[Ko]=D[Vo]=D[Jo]=D[Xo]=D[Yo]=D[Zo]=D[Qo]=!0;D[xo]=D[Oo]=D[Bo]=D[Io]=D[Uo]=D[Fo]=D[jo]=D[Mo]=D[Lo]=D[No]=D[Do]=D[Ro]=D[zo]=D[Go]=D[Ho]=!1;function ei(e){return Ge(e)&&cn(e.length)&&!!D[Ve(e)]}function ti(e){return function(t){return e(t)}}var Lr=typeof pe=="object"&&pe&&!pe.nodeType&&pe,nt=Lr&&typeof he=="object"&&he&&!he.nodeType&&he,ni=nt&&nt.exports===Lr,zt=ni&&Tr.process,ri=function(){try{var e=nt&&nt.require&&nt.require("util").types;return e||zt&&zt.binding&&zt.binding("util")}catch{}}();const On=ri;var In=On&&On.isTypedArray,si=In?ti(In):ei;const fn=si;var oi=Object.prototype,ii=oi.hasOwnProperty;function li(e,t){var n=ne(e),r=!n&&un(e),o=!n&&!r&&vt(e),s=!n&&!r&&!o&&fn(e),i=n||r||o||s,l=i?Fr(e.length,String):[],c=l.length;for(var a in e)(t||ii.call(e,a))&&!(i&&(a=="length"||o&&(a=="offset"||a=="parent")||s&&(a=="buffer"||a=="byteLength"||a=="byteOffset")||on(a,c)))&&l.push(a);return l}function ci(e,t){return function(n){return e(t(n))}}var ai=ci(Object.keys,Object);const ui=ai;var fi=Object.prototype,di=fi.hasOwnProperty;function Nr(e){if(!Ir(e))return ui(e);var t=[];for(var n in Object(e))di.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ot(e){return at(e)?li(e):Nr(e)}var pi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hi=/^\w*$/;function dn(e,t){if(ne(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||xt(e)?!0:hi.test(e)||!pi.test(e)||t!=null&&e in Object(t)}var mi=Je(Object,"create");const ot=mi;function _i(){this.__data__=ot?ot(null):{},this.size=0}function gi(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bi="__lodash_hash_undefined__",yi=Object.prototype,wi=yi.hasOwnProperty;function vi(e){var t=this.__data__;if(ot){var n=t[e];return n===bi?void 0:n}return wi.call(t,e)?t[e]:void 0}var $i=Object.prototype,Ci=$i.hasOwnProperty;function ki(e){var t=this.__data__;return ot?t[e]!==void 0:Ci.call(t,e)}var Ei="__lodash_hash_undefined__";function Si(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ot&&t===void 0?Ei:t,this}function Oe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Oe.prototype.clear=_i;Oe.prototype.delete=gi;Oe.prototype.get=vi;Oe.prototype.has=ki;Oe.prototype.set=Si;function Ai(){this.__data__=[],this.size=0}function It(e,t){for(var n=e.length;n--;)if(ln(e[n][0],t))return n;return-1}var Ti=Array.prototype,Pi=Ti.splice;function xi(e){var t=this.__data__,n=It(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Pi.call(t,n,1),--this.size,!0}function Oi(e){var t=this.__data__,n=It(t,e);return n<0?void 0:t[n][1]}function Ii(e){return It(this.__data__,e)>-1}function Fi(e,t){var n=this.__data__,r=It(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function $e(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$e.prototype.clear=Ai;$e.prototype.delete=xi;$e.prototype.get=Oi;$e.prototype.has=Ii;$e.prototype.set=Fi;var ji=Je(ve,"Map");const it=ji;function Mi(){this.size=0,this.__data__={hash:new Oe,map:new(it||$e),string:new Oe}}function Li(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ft(e,t){var n=e.__data__;return Li(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ni(e){var t=Ft(this,e).delete(e);return this.size-=t?1:0,t}function Di(e){return Ft(this,e).get(e)}function Ri(e){return Ft(this,e).has(e)}function zi(e,t){var n=Ft(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ce(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ce.prototype.clear=Mi;Ce.prototype.delete=Ni;Ce.prototype.get=Di;Ce.prototype.has=Ri;Ce.prototype.set=zi;var Gi="Expected a function";function pn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Gi);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var i=e.apply(this,r);return n.cache=s.set(o,i)||s,i};return n.cache=new(pn.Cache||Ce),n}pn.Cache=Ce;var Hi=500;function Bi(e){var t=pn(e,function(r){return n.size===Hi&&n.clear(),r}),n=t.cache;return t}var Ui=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wi=/\\(\\)?/g,qi=Bi(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ui,function(n,r,o,s){t.push(o?s.replace(Wi,"$1"):r||n)}),t});const Ki=qi;function Vi(e){return e==null?"":xr(e)}function Dr(e,t){return ne(e)?e:dn(e,t)?[e]:Ki(Vi(e))}var Ji=1/0;function jt(e){if(typeof e=="string"||xt(e))return e;var t=e+"";return t=="0"&&1/e==-Ji?"-0":t}function Rr(e,t){t=Dr(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[jt(t[n++])];return n&&n==r?e:void 0}function Xi(e,t,n){var r=e==null?void 0:Rr(e,t);return r===void 0?n:r}function Yi(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Zi(){this.__data__=new $e,this.size=0}function Qi(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function el(e){return this.__data__.get(e)}function tl(e){return this.__data__.has(e)}var nl=200;function rl(e,t){var n=this.__data__;if(n instanceof $e){var r=n.__data__;if(!it||r.length<nl-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ce(r)}return n.set(e,t),this.size=n.size,this}function me(e){var t=this.__data__=new $e(e);this.size=t.size}me.prototype.clear=Zi;me.prototype.delete=Qi;me.prototype.get=el;me.prototype.has=tl;me.prototype.set=rl;function sl(e,t){for(var n=-1,r=e==null?0:e.length,o=0,s=[];++n<r;){var i=e[n];t(i,n,e)&&(s[o++]=i)}return s}function ol(){return[]}var il=Object.prototype,ll=il.propertyIsEnumerable,Fn=Object.getOwnPropertySymbols,cl=Fn?function(e){return e==null?[]:(e=Object(e),sl(Fn(e),function(t){return ll.call(e,t)}))}:ol;const al=cl;function ul(e,t,n){var r=t(e);return ne(e)?r:Yi(r,n(e))}function jn(e){return ul(e,Ot,al)}var fl=Je(ve,"DataView");const Xt=fl;var dl=Je(ve,"Promise");const Yt=dl;var pl=Je(ve,"Set");const Zt=pl;var Mn="[object Map]",hl="[object Object]",Ln="[object Promise]",Nn="[object Set]",Dn="[object WeakMap]",Rn="[object DataView]",ml=Ie(Xt),_l=Ie(it),gl=Ie(Yt),bl=Ie(Zt),yl=Ie(Jt),Pe=Ve;(Xt&&Pe(new Xt(new ArrayBuffer(1)))!=Rn||it&&Pe(new it)!=Mn||Yt&&Pe(Yt.resolve())!=Ln||Zt&&Pe(new Zt)!=Nn||Jt&&Pe(new Jt)!=Dn)&&(Pe=function(e){var t=Ve(e),n=t==hl?e.constructor:void 0,r=n?Ie(n):"";if(r)switch(r){case ml:return Rn;case _l:return Mn;case gl:return Ln;case bl:return Nn;case yl:return Dn}return t});const Qt=Pe;var wl=ve.Uint8Array;const zn=wl;var vl="__lodash_hash_undefined__";function $l(e){return this.__data__.set(e,vl),this}function Cl(e){return this.__data__.has(e)}function $t(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ce;++t<n;)this.add(e[t])}$t.prototype.add=$t.prototype.push=$l;$t.prototype.has=Cl;function zr(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function kl(e,t){return e.has(t)}var El=1,Sl=2;function Gr(e,t,n,r,o,s){var i=n&El,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var a=s.get(e),u=s.get(t);if(a&&u)return a==t&&u==e;var f=-1,d=!0,b=n&Sl?new $t:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var $=e[f],k=t[f];if(r)var E=i?r(k,$,f,t,e,s):r($,k,f,e,t,s);if(E!==void 0){if(E)continue;d=!1;break}if(b){if(!zr(t,function(P,C){if(!kl(b,C)&&($===P||o($,P,n,r,s)))return b.push(C)})){d=!1;break}}else if(!($===k||o($,k,n,r,s))){d=!1;break}}return s.delete(e),s.delete(t),d}function Al(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function Tl(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Pl=1,xl=2,Ol="[object Boolean]",Il="[object Date]",Fl="[object Error]",jl="[object Map]",Ml="[object Number]",Ll="[object RegExp]",Nl="[object Set]",Dl="[object String]",Rl="[object Symbol]",zl="[object ArrayBuffer]",Gl="[object DataView]",Gn=Se?Se.prototype:void 0,Gt=Gn?Gn.valueOf:void 0;function Hl(e,t,n,r,o,s,i){switch(n){case Gl:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zl:return!(e.byteLength!=t.byteLength||!s(new zn(e),new zn(t)));case Ol:case Il:case Ml:return ln(+e,+t);case Fl:return e.name==t.name&&e.message==t.message;case Ll:case Dl:return e==t+"";case jl:var l=Al;case Nl:var c=r&Pl;if(l||(l=Tl),e.size!=t.size&&!c)return!1;var a=i.get(e);if(a)return a==t;r|=xl,i.set(e,t);var u=Gr(l(e),l(t),r,o,s,i);return i.delete(e),u;case Rl:if(Gt)return Gt.call(e)==Gt.call(t)}return!1}var Bl=1,Ul=Object.prototype,Wl=Ul.hasOwnProperty;function ql(e,t,n,r,o,s){var i=n&Bl,l=jn(e),c=l.length,a=jn(t),u=a.length;if(c!=u&&!i)return!1;for(var f=c;f--;){var d=l[f];if(!(i?d in t:Wl.call(t,d)))return!1}var b=s.get(e),$=s.get(t);if(b&&$)return b==t&&$==e;var k=!0;s.set(e,t),s.set(t,e);for(var E=i;++f<c;){d=l[f];var P=e[d],C=t[d];if(r)var _=i?r(C,P,d,t,e,s):r(P,C,d,e,t,s);if(!(_===void 0?P===C||o(P,C,n,r,s):_)){k=!1;break}E||(E=d=="constructor")}if(k&&!E){var g=e.constructor,j=t.constructor;g!=j&&"constructor"in e&&"constructor"in t&&!(typeof g=="function"&&g instanceof g&&typeof j=="function"&&j instanceof j)&&(k=!1)}return s.delete(e),s.delete(t),k}var Kl=1,Hn="[object Arguments]",Bn="[object Array]",dt="[object Object]",Vl=Object.prototype,Un=Vl.hasOwnProperty;function Jl(e,t,n,r,o,s){var i=ne(e),l=ne(t),c=i?Bn:Qt(e),a=l?Bn:Qt(t);c=c==Hn?dt:c,a=a==Hn?dt:a;var u=c==dt,f=a==dt,d=c==a;if(d&&vt(e)){if(!vt(t))return!1;i=!0,u=!1}if(d&&!u)return s||(s=new me),i||fn(e)?Gr(e,t,n,r,o,s):Hl(e,t,c,n,r,o,s);if(!(n&Kl)){var b=u&&Un.call(e,"__wrapped__"),$=f&&Un.call(t,"__wrapped__");if(b||$){var k=b?e.value():e,E=$?t.value():t;return s||(s=new me),o(k,E,n,r,s)}}return d?(s||(s=new me),ql(e,t,n,r,o,s)):!1}function hn(e,t,n,r,o){return e===t?!0:e==null||t==null||!Ge(e)&&!Ge(t)?e!==e&&t!==t:Jl(e,t,n,r,hn,o)}var Xl=1,Yl=2;function Zl(e,t,n,r){var o=n.length,s=o,i=!r;if(e==null)return!s;for(e=Object(e);o--;){var l=n[o];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){l=n[o];var c=l[0],a=e[c],u=l[1];if(i&&l[2]){if(a===void 0&&!(c in e))return!1}else{var f=new me;if(r)var d=r(a,u,c,e,t,f);if(!(d===void 0?hn(u,a,Xl|Yl,r,f):d))return!1}}return!0}function Hr(e){return e===e&&!He(e)}function Ql(e){for(var t=Ot(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Hr(o)]}return t}function Br(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function ec(e){var t=Ql(e);return t.length==1&&t[0][2]?Br(t[0][0],t[0][1]):function(n){return n===e||Zl(n,e,t)}}function tc(e,t){return e!=null&&t in Object(e)}function nc(e,t,n){t=Dr(t,e);for(var r=-1,o=t.length,s=!1;++r<o;){var i=jt(t[r]);if(!(s=e!=null&&n(e,i)))break;e=e[i]}return s||++r!=o?s:(o=e==null?0:e.length,!!o&&cn(o)&&on(i,o)&&(ne(e)||un(e)))}function rc(e,t){return e!=null&&nc(e,t,tc)}var sc=1,oc=2;function ic(e,t){return dn(e)&&Hr(t)?Br(jt(e),t):function(n){var r=Xi(n,e);return r===void 0&&r===t?rc(n,e):hn(t,r,sc|oc)}}function lc(e){return function(t){return t==null?void 0:t[e]}}function cc(e){return function(t){return Rr(t,e)}}function ac(e){return dn(e)?lc(jt(e)):cc(e)}function Mt(e){return typeof e=="function"?e:e==null?rn:typeof e=="object"?ne(e)?ic(e[0],e[1]):ec(e):ac(e)}function uc(e){return function(t,n,r){for(var o=-1,s=Object(t),i=r(t),l=i.length;l--;){var c=i[e?l:++o];if(n(s[c],c,s)===!1)break}return t}}var fc=uc();const dc=fc;function pc(e,t){return e&&dc(e,t,Ot)}function hc(e,t){return function(n,r){if(n==null)return n;if(!at(n))return e(n,r);for(var o=n.length,s=t?o:-1,i=Object(n);(t?s--:++s<o)&&r(i[s],s,i)!==!1;);return n}}var mc=hc(pc);const Ur=mc;function _c(e){return typeof e=="function"?e:rn}function gc(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function bc(e,t){var n=!0;return Ur(e,function(r,o,s){return n=!!t(r,o,s),n}),n}function yc(e,t,n){var r=ne(e)?gc:bc;return n&&an(e,t,n)&&(t=void 0),r(e,Mt(t))}function wc(e){return function(t,n,r){var o=Object(t);if(!at(t)){var s=Mt(n);t=Ot(t),n=function(l){return s(o[l],l,o)}}var i=e(t,n,r);return i>-1?o[s?t[i]:i]:void 0}}var vc=Math.max;function $c(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:Or(n);return o<0&&(o=vc(r+o,0)),go(e,Mt(t),o)}var Cc=wc($c);const kc=Cc;function Ec(e){return e&&e.length?e[0]:void 0}var Sc="[object Map]",Ac="[object Set]",Tc=Object.prototype,Pc=Tc.hasOwnProperty;function Wr(e){if(e==null)return!0;if(at(e)&&(ne(e)||typeof e=="string"||typeof e.splice=="function"||vt(e)||fn(e)||un(e)))return!e.length;var t=Qt(e);if(t==Sc||t==Ac)return!e.size;if(Ir(e))return!Nr(e).length;for(var n in e)if(Pc.call(e,n))return!1;return!0}function qr(e){return e===null}function Kr(e){return e===void 0}var xc=Array.prototype,Oc=xc.join;function Ic(e,t){return e==null?"":Oc.call(e,t)}var Fc=Math.ceil,jc=Math.max;function Mc(e,t,n,r){for(var o=-1,s=jc(Fc((t-e)/(n||1)),0),i=Array(s);s--;)i[r?s:++o]=e,e+=n;return i}function Lc(e){return function(t,n,r){return r&&typeof r!="number"&&an(t,n,r)&&(n=r=void 0),t=mt(t),n===void 0?(n=t,t=0):n=mt(n),r=r===void 0?t<n?1:-1:mt(r),Mc(t,n,r,e)}}var Nc=Lc();const Wn=Nc;function Dc(e,t){var n;return Ur(e,function(r,o,s){return n=t(r,o,s),!n}),!!n}function Rc(e,t,n){var r=ne(e)?zr:Dc;return n&&an(e,t,n)&&(t=void 0),r(e,Mt(t))}var zc=9007199254740991,Ht=4294967295,Gc=Math.min;function Vr(e,t){if(e=Or(e),e<1||e>zc)return[];var n=Ht,r=Gc(e,Ht);t=_c(t),e-=Ht;for(var o=Fr(r,t);++n<e;)t(n);return o}const Me=[];function Hc(e,t){return{subscribe:ue(e,t).subscribe}}function ue(e,t=O){let n;const r=new Set;function o(l){if(q(e,l)&&(e=l,n)){const c=!Me.length;for(const a of r)a[1](),Me.push(a,e);if(c){for(let a=0;a<Me.length;a+=2)Me[a][0](Me[a+1]);Me.length=0}}}function s(l){o(l(e))}function i(l,c=O){const a=[l,c];return r.add(a),r.size===1&&(n=t(o)||O),l(e),()=>{r.delete(a),r.size===0&&(n(),n=null)}}return{set:o,update:s,subscribe:i}}function ae(e,t,n){const r=!Array.isArray(e),o=r?[e]:e,s=t.length<2;return Hc(n,i=>{let l=!1;const c=[];let a=0,u=O;const f=()=>{if(a)return;u();const b=t(r?c[0]:c,i);s?i(b):u=Er(b)?b:O},d=o.map((b,$)=>Ue(b,k=>{c[$]=k,a&=~(1<<$),l&&f()},()=>{a|=1<<$}));return l=!0,f(),function(){_e(d),u()}})}const Le=ue("AlgoSelection"),Bc=ae(Le,e=>e==="AlgoSelection"),Uc=ae(Le,e=>e==="InSimulation"),Wc=ae(Le,e=>e==="AlgoConfig");let Bt=[];const Ct={push(e){Bt.push(ct(Le)),Le.set(e)},pop(){Wr(Bt)||Le.set(Bt.pop())}};function qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kc(e){var t=e.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var en={exports:{}},Ut,qn;function Vc(){if(qn)return Ut;qn=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,s=r*365.25;Ut=function(u,f){f=f||{};var d=typeof u;if(d==="string"&&u.length>0)return i(u);if(d==="number"&&isFinite(u))return f.long?c(u):l(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function i(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(!!f){var d=parseFloat(f[1]),b=(f[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return d*s;case"weeks":case"week":case"w":return d*o;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*t;case"seconds":case"second":case"secs":case"sec":case"s":return d*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function l(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=n?Math.round(u/n)+"h":f>=t?Math.round(u/t)+"m":f>=e?Math.round(u/e)+"s":u+"ms"}function c(u){var f=Math.abs(u);return f>=r?a(u,f,r,"day"):f>=n?a(u,f,n,"hour"):f>=t?a(u,f,t,"minute"):f>=e?a(u,f,e,"second"):u+" ms"}function a(u,f,d,b){var $=f>=d*1.5;return Math.round(u/d)+" "+b+($?"s":"")}return Ut}function Jc(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=o,n.enabled=i,n.humanize=Vc(),n.destroy=a,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(u){let f,d=null,b,$;function k(...E){if(!k.enabled)return;const P=k,C=Number(new Date),_=C-(f||C);P.diff=_,P.prev=f,P.curr=C,f=C,E[0]=n.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let g=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(I,Y)=>{if(I==="%%")return"%";g++;const B=n.formatters[Y];if(typeof B=="function"){const ce=E[g];I=B.call(P,ce),E.splice(g,1),g--}return I}),n.formatArgs.call(P,E),(P.log||n.log).apply(P,E)}return k.namespace=u,k.useColors=n.useColors(),k.color=n.selectColor(u),k.extend=r,k.destroy=n.destroy,Object.defineProperty(k,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(b!==n.namespaces&&(b=n.namespaces,$=n.enabled(u)),$),set:E=>{d=E}}),typeof n.init=="function"&&n.init(k),k}function r(u,f){const d=n(this.namespace+(typeof f>"u"?":":f)+u);return d.log=this.log,d}function o(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f;const d=(typeof u=="string"?u:"").split(/[\s,]+/),b=d.length;for(f=0;f<b;f++)!d[f]||(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...n.names.map(l),...n.skips.map(l).map(f=>"-"+f)].join(",");return n.enable(""),u}function i(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=n.skips.length;f<d;f++)if(n.skips[f].test(u))return!1;for(f=0,d=n.names.length;f<d;f++)if(n.names[f].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function a(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Xc=Jc;(function(e,t){t.formatArgs=r,t.save=o,t.load=s,t.useColors=n,t.storage=i(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const a="color: "+this.color;c.splice(1,0,a,"color: inherit");let u=0,f=0;c[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(f=u))}),c.splice(f,0,a)}t.log=console.debug||console.log||(()=>{});function o(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function s(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function i(){try{return localStorage}catch{}}e.exports=Xc(t);const{formatters:l}=e.exports;l.j=function(c){try{return JSON.stringify(c)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}})(en,en.exports);const ke=en.exports;function Kn(e,t,n){const r=e.slice();return r[7]=t[n],r}function Vn(e,t,n){const r=e.slice();return r[10]=t[n],r}function Jn(e){let t,n=e[2](e[10])+"",r,o;return{c(){t=m("div"),r=K(n),o=x(),p(t,"class","flex w-fit justify-center border border-secondary px-1 text-xl")},m(s,i){w(s,t,i),h(t,r),h(t,o)},p(s,i){i&6&&n!==(n=s[2](s[10])+"")&&le(r,n)},d(s){s&&y(t)}}}function Xn(e){let t,n,r=e[7]+"",o,s,i,l,c=e[1][e[7]],a=[];for(let u=0;u<c.length;u+=1)a[u]=Jn(Vn(e,c,u));return{c(){t=m("div"),n=m("div"),o=K(r),s=x(),i=m("div");for(let u=0;u<a.length;u+=1)a[u].c();l=x(),p(n,"class","mb-2 text-xl"),p(i,"class","mb-3 flex w-full flex-wrap gap-2"),p(t,"class","inline")},m(u,f){w(u,t,f),h(t,n),h(n,o),h(t,s),h(t,i);for(let d=0;d<a.length;d+=1)a[d].m(i,null);h(t,l)},p(u,f){if(f&22){c=u[1][u[7]];let d;for(d=0;d<c.length;d+=1){const b=Vn(u,c,d);a[d]?a[d].p(b,f):(a[d]=Jn(b),a[d].c(),a[d].m(i,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=c.length}},d(u){u&&y(t),We(a,u)}}}function Yc(e){let t,n,r,o=e[4],s=[];for(let i=0;i<o.length;i+=1)s[i]=Xn(Kn(e,o,i));return{c(){t=m("h2"),t.textContent="shared memory",n=x(),r=m("section");for(let i=0;i<s.length;i+=1)s[i].c();p(t,"class","mb-2 text-2xl underline"),p(r,"class","flex flex-grow flex-wrap gap-3")},m(i,l){w(i,t,l),w(i,n,l),w(i,r,l);for(let c=0;c<s.length;c+=1)s[c].m(r,null)},p(i,[l]){if(l&22){o=i[4];let c;for(c=0;c<o.length;c+=1){const a=Kn(i,o,c);s[c]?s[c].p(a,l):(s[c]=Xn(a),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}},i:O,o:O,d(i){i&&y(t),i&&y(n),i&&y(r),We(s,i)}}}function Zc(e,t,n){let r,o=O,s=()=>(o(),o=Ue(f,d=>n(1,r=d)),f),i;e.$$.on_destroy.push(()=>o());let{stores:l=null}=t;const c=Pt("memory_transform");de(e,c,d=>n(2,i=d));const a=[...l.keys()];let u,f;return e.$$set=d=>{"stores"in d&&n(5,l=d.stores)},e.$$.update=()=>{e.$$.dirty&96&&(n(6,u=a.map(d=>l.get(d))),s(n(0,f=ae(u,(d,b)=>{const $={};for(let k=0;k<u.length;k++)$[a[k]]=d[k];b($)}))))},[f,r,i,c,a,l,u]}class Qc extends J{constructor(t){super(),V(this,t,Zc,Yc,q,{stores:5})}}var ee=(e=>(e.ready="ready",e.running="running",e.paused="paused",e.completed="completed",e))(ee||{}),rt=(e=>(e.Locking="Locking",e.Locked="Locked",e.Unlocking="Unlocking",e.Unlocked="Unlocked",e))(rt||{});function Yn(e){let t,n,r;return{c(){t=ie("svg"),n=ie("circle"),r=ie("path"),p(n,"class","opacity-25"),p(n,"cx","12"),p(n,"cy","12"),p(n,"r","10"),p(n,"stroke","currentColor"),p(n,"stroke-width","4"),p(r,"class","opacity-75"),p(r,"fill","currentColor"),p(r,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),p(t,"class","-ml-1 mr-3 h-5 w-5 animate-spin text-error"),p(t,"xmlns","http://www.w3.org/2000/svg"),p(t,"fill","none"),p(t,"viewBox","0 0 24 24")},m(o,s){w(o,t,s),h(t,n),h(t,r)},d(o){o&&y(t)}}}function ea(e){let t,n,r=e[0]&&Yn();return{c(){r&&r.c(),t=x(),n=K(e[1])},m(o,s){r&&r.m(o,s),w(o,t,s),w(o,n,s)},p(o,[s]){o[0]?r||(r=Yn(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),s&2&&le(n,o[1])},i:O,o:O,d(o){r&&r.d(o),o&&y(t),o&&y(n)}}}function ta(e,t,n){let{show:r}=t,{text:o}=t;return e.$$set=s=>{"show"in s&&n(0,r=s.show),"text"in s&&n(1,o=s.text)},[r,o]}class Jr extends J{constructor(t){super(),V(this,t,ta,ea,q,{show:0,text:1})}}function Zn(e){let t,n;return{c(){t=ie("title"),n=K(e[0])},m(r,o){w(r,t,o),h(t,n)},p(r,o){o&1&&le(n,r[0])},d(r){r&&y(t)}}}function na(e){let t,n,r,o=e[0]&&Zn(e);const s=e[3].default,i=ge(s,e,e[2],null);return{c(){t=ie("svg"),o&&o.c(),n=At(),i&&i.c(),p(t,"xmlns","http://www.w3.org/2000/svg"),p(t,"viewBox",e[1]),p(t,"class","svelte-3h8371")},m(l,c){w(l,t,c),o&&o.m(t,null),h(t,n),i&&i.m(t,null),r=!0},p(l,[c]){l[0]?o?o.p(l,c):(o=Zn(l),o.c(),o.m(t,n)):o&&(o.d(1),o=null),i&&i.p&&(!r||c&4)&&ye(i,s,l,l[2],r?be(s,l[2],c,null):we(l[2]),null),(!r||c&2)&&p(t,"viewBox",l[1])},i(l){r||(S(i,l),r=!0)},o(l){A(i,l),r=!1},d(l){l&&y(t),o&&o.d(),i&&i.d(l)}}}function ra(e,t,n){let{$$slots:r={},$$scope:o}=t,{title:s=null}=t,{viewBox:i}=t;return e.$$set=l=>{"title"in l&&n(0,s=l.title),"viewBox"in l&&n(1,i=l.viewBox),"$$scope"in l&&n(2,o=l.$$scope)},[s,i,o,r]}class Xe extends J{constructor(t){super(),V(this,t,ra,na,q,{title:0,viewBox:1})}}function sa(e){let t;return{c(){t=ie("path"),p(t,"d","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z")},m(n,r){w(n,t,r)},p:O,d(n){n&&y(t)}}}function oa(e){let t,n;const r=[{viewBox:"0 0 448 512"},e[0]];let o={$$slots:{default:[sa]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=W(o,r[s]);return t=new Xe({props:o}),{c(){R(t.$$.fragment)},m(s,i){L(t,s,i),n=!0},p(s,[i]){const l=i&1?qe(r,[r[0],Ke(s[0])]):{};i&2&&(l.$$scope={dirty:i,ctx:s}),t.$set(l)},i(s){n||(S(t.$$.fragment,s),n=!0)},o(s){A(t.$$.fragment,s),n=!1},d(s){N(t,s)}}}function ia(e,t,n){return e.$$set=r=>{n(0,t=W(W({},t),se(r)))},t=se(t),[t]}class la extends J{constructor(t){super(),V(this,t,ia,oa,q,{})}}function ca(e){let t;return{c(){t=ie("path"),p(t,"d","M423.5 0C339.5.3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z")},m(n,r){w(n,t,r)},p:O,d(n){n&&y(t)}}}function aa(e){let t,n;const r=[{viewBox:"0 0 576 512"},e[0]];let o={$$slots:{default:[ca]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=W(o,r[s]);return t=new Xe({props:o}),{c(){R(t.$$.fragment)},m(s,i){L(t,s,i),n=!0},p(s,[i]){const l=i&1?qe(r,[r[0],Ke(s[0])]):{};i&2&&(l.$$scope={dirty:i,ctx:s}),t.$set(l)},i(s){n||(S(t.$$.fragment,s),n=!0)},o(s){A(t.$$.fragment,s),n=!1},d(s){N(t,s)}}}function ua(e,t,n){return e.$$set=r=>{n(0,t=W(W({},t),se(r)))},t=se(t),[t]}class fa extends J{constructor(t){super(),V(this,t,ua,aa,q,{})}}function da(e){let t;return{c(){t=ie("path"),p(t,"d","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z")},m(n,r){w(n,t,r)},p:O,d(n){n&&y(t)}}}function pa(e){let t,n;const r=[{viewBox:"0 0 448 512"},e[0]];let o={$$slots:{default:[da]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=W(o,r[s]);return t=new Xe({props:o}),{c(){R(t.$$.fragment)},m(s,i){L(t,s,i),n=!0},p(s,[i]){const l=i&1?qe(r,[r[0],Ke(s[0])]):{};i&2&&(l.$$scope={dirty:i,ctx:s}),t.$set(l)},i(s){n||(S(t.$$.fragment,s),n=!0)},o(s){A(t.$$.fragment,s),n=!1},d(s){N(t,s)}}}function ha(e,t,n){return e.$$set=r=>{n(0,t=W(W({},t),se(r)))},t=se(t),[t]}class ma extends J{constructor(t){super(),V(this,t,ha,pa,q,{})}}function _a(e){let t;return{c(){t=ie("path"),p(t,"d","M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm0 400H48V80h352v352zm-35.864-241.724L191.547 361.48c-4.705 4.667-12.303 4.637-16.97-.068l-90.781-91.516c-4.667-4.705-4.637-12.303.069-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l59.792 60.277 141.352-140.216c4.705-4.667 12.303-4.637 16.97.068l22.536 22.718c4.667 4.706 4.637 12.304-.068 16.971z")},m(n,r){w(n,t,r)},p:O,d(n){n&&y(t)}}}function ga(e){let t,n;const r=[{viewBox:"0 0 448 512"},e[0]];let o={$$slots:{default:[_a]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=W(o,r[s]);return t=new Xe({props:o}),{c(){R(t.$$.fragment)},m(s,i){L(t,s,i),n=!0},p(s,[i]){const l=i&1?qe(r,[r[0],Ke(s[0])]):{};i&2&&(l.$$scope={dirty:i,ctx:s}),t.$set(l)},i(s){n||(S(t.$$.fragment,s),n=!0)},o(s){A(t.$$.fragment,s),n=!1},d(s){N(t,s)}}}function ba(e,t,n){return e.$$set=r=>{n(0,t=W(W({},t),se(r)))},t=se(t),[t]}class ya extends J{constructor(t){super(),V(this,t,ba,ga,q,{})}}function wa(e){let t;return{c(){t=ie("path"),p(t,"d","M272 96c26.51 0 48-21.49 48-48S298.51 0 272 0s-48 21.49-48 48 21.49 48 48 48zM113.69 317.47l-14.8 34.52H32c-17.67 0-32 14.33-32 32s14.33 32 32 32h77.45c19.25 0 36.58-11.44 44.11-29.09l8.79-20.52-10.67-6.3c-17.32-10.23-30.06-25.37-37.99-42.61zM384 223.99h-44.03l-26.06-53.25c-12.5-25.55-35.45-44.23-61.78-50.94l-71.08-21.14c-28.3-6.8-57.77-.55-80.84 17.14l-39.67 30.41c-14.03 10.75-16.69 30.83-5.92 44.86s30.84 16.66 44.86 5.92l39.69-30.41c7.67-5.89 17.44-8 25.27-6.14l14.7 4.37-37.46 87.39c-12.62 29.48-1.31 64.01 26.3 80.31l84.98 50.17-27.47 87.73c-5.28 16.86 4.11 34.81 20.97 40.09 3.19 1 6.41 1.48 9.58 1.48 13.61 0 26.23-8.77 30.52-22.45l31.64-101.06c5.91-20.77-2.89-43.08-21.64-54.39l-61.24-36.14 31.31-78.28 20.27 41.43c8 16.34 24.92 26.89 43.11 26.89H384c17.67 0 32-14.33 32-32s-14.33-31.99-32-31.99z")},m(n,r){w(n,t,r)},p:O,d(n){n&&y(t)}}}function va(e){let t,n;const r=[{viewBox:"0 0 416 512"},e[0]];let o={$$slots:{default:[wa]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=W(o,r[s]);return t=new Xe({props:o}),{c(){R(t.$$.fragment)},m(s,i){L(t,s,i),n=!0},p(s,[i]){const l=i&1?qe(r,[r[0],Ke(s[0])]):{};i&2&&(l.$$scope={dirty:i,ctx:s}),t.$set(l)},i(s){n||(S(t.$$.fragment,s),n=!0)},o(s){A(t.$$.fragment,s),n=!1},d(s){N(t,s)}}}function $a(e,t,n){return e.$$set=r=>{n(0,t=W(W({},t),se(r)))},t=se(t),[t]}class Ca extends J{constructor(t){super(),V(this,t,$a,va,q,{})}}function ka(e){let t;return{c(){t=ie("path"),p(t,"d","M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z")},m(n,r){w(n,t,r)},p:O,d(n){n&&y(t)}}}function Ea(e){let t,n;const r=[{viewBox:"0 0 448 512"},e[0]];let o={$$slots:{default:[ka]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=W(o,r[s]);return t=new Xe({props:o}),{c(){R(t.$$.fragment)},m(s,i){L(t,s,i),n=!0},p(s,[i]){const l=i&1?qe(r,[r[0],Ke(s[0])]):{};i&2&&(l.$$scope={dirty:i,ctx:s}),t.$set(l)},i(s){n||(S(t.$$.fragment,s),n=!0)},o(s){A(t.$$.fragment,s),n=!1},d(s){N(t,s)}}}function Sa(e,t,n){return e.$$set=r=>{n(0,t=W(W({},t),se(r)))},t=se(t),[t]}class Aa extends J{constructor(t){super(),V(this,t,Sa,Ea,q,{})}}function Ta(e){let t,n,r;return n=new Aa({}),{c(){t=m("div"),R(n.$$.fragment),p(t,"class",Ye+"text-secondary-content")},m(o,s){w(o,t,s),L(n,t,null),r=!0},p:O,i(o){r||(S(n.$$.fragment,o),r=!0)},o(o){A(n.$$.fragment,o),r=!1},d(o){o&&y(t),N(n)}}}function Pa(e){let t,n,r;return n=new Ca({}),{c(){t=m("div"),R(n.$$.fragment),p(t,"class",Ye+"text-secondary")},m(o,s){w(o,t,s),L(n,t,null),r=!0},p:O,i(o){r||(S(n.$$.fragment,o),r=!0)},o(o){A(n.$$.fragment,o),r=!1},d(o){o&&y(t),N(n)}}}function xa(e){let t,n,r;return n=new ya({}),{c(){t=m("div"),R(n.$$.fragment),p(t,"class",Ye+"text-base-content")},m(o,s){w(o,t,s),L(n,t,null),r=!0},p:O,i(o){r||(S(n.$$.fragment,o),r=!0)},o(o){A(n.$$.fragment,o),r=!1},d(o){o&&y(t),N(n)}}}function Oa(e){let t,n,r;return n=new ma({}),{c(){t=m("div"),R(n.$$.fragment),p(t,"class",Ye+"text-primary")},m(o,s){w(o,t,s),L(n,t,null),r=!0},p:O,i(o){r||(S(n.$$.fragment,o),r=!0)},o(o){A(n.$$.fragment,o),r=!1},d(o){o&&y(t),N(n)}}}function Ia(e){let t,n,r;return n=new fa({}),{c(){t=m("div"),R(n.$$.fragment),p(t,"class",Ye)},m(o,s){w(o,t,s),L(n,t,null),r=!0},p:O,i(o){r||(S(n.$$.fragment,o),r=!0)},o(o){A(n.$$.fragment,o),r=!1},d(o){o&&y(t),N(n)}}}function Fa(e){let t,n,r;return n=new la({}),{c(){t=m("div"),R(n.$$.fragment),p(t,"class",Ye+"text-[red]")},m(o,s){w(o,t,s),L(n,t,null),r=!0},p:O,i(o){r||(S(n.$$.fragment,o),r=!0)},o(o){A(n.$$.fragment,o),r=!1},d(o){o&&y(t),N(n)}}}function ja(e){let t,n=`#${e[0]}`,r,o,s,i,l,c,a,u,f;const d=[Oa,xa,Pa,Ta],b=[];function $(C,_){return C[1]===ee.ready?0:C[1]===ee.completed?1:C[1]===ee.running?2:3}i=$(e),l=b[i]=d[i](e);const k=[Fa,Ia],E=[];function P(C,_){return C[2]?0:1}return a=P(e),u=E[a]=k[a](e),{c(){t=m("div"),r=K(n),o=x(),s=m("div"),l.c(),c=x(),u.c(),p(s,"class","flex gap-2")},m(C,_){w(C,t,_),h(t,r),h(t,o),h(t,s),b[i].m(s,null),h(s,c),E[a].m(s,null),f=!0},p(C,[_]){(!f||_&1)&&n!==(n=`#${C[0]}`)&&le(r,n);let g=i;i=$(C),i===g?b[i].p(C,_):(Re(),A(b[g],1,1,()=>{b[g]=null}),ze(),l=b[i],l?l.p(C,_):(l=b[i]=d[i](C),l.c()),S(l,1),l.m(s,c));let j=a;a=P(C),a===j?E[a].p(C,_):(Re(),A(E[j],1,1,()=>{E[j]=null}),ze(),u=E[a],u?u.p(C,_):(u=E[a]=k[a](C),u.c()),S(u,1),u.m(s,null))},i(C){f||(S(l),S(u),f=!0)},o(C){A(l),A(u),f=!1},d(C){C&&y(t),b[i].d(),E[a].d()}}}const Ye="h-6 w-6 ";function Ma(e,t,n){let{pid:r}=t,{procState:o}=t,{locked:s}=t;return e.$$set=i=>{"pid"in i&&n(0,r=i.pid),"procState"in i&&n(1,o=i.procState),"locked"in i&&n(2,s=i.locked)},[r,o,s]}class La extends J{constructor(t){super(),V(this,t,Ma,ja,q,{pid:0,procState:1,locked:2})}}function Qn(e){let t,n,r,o;const s=[Da,Na],i=[];function l(c,a){return c[6]?0:1}return t=l(e),n=i[t]=s[t](e),{c(){n.c(),r=At()},m(c,a){i[t].m(c,a),w(c,r,a),o=!0},p(c,a){let u=t;t=l(c),t===u?i[t].p(c,a):(Re(),A(i[u],1,1,()=>{i[u]=null}),ze(),n=i[t],n?n.p(c,a):(n=i[t]=s[t](c),n.c()),S(n,1),n.m(r.parentNode,r))},i(c){o||(S(n),o=!0)},o(c){A(n),o=!1},d(c){i[t].d(c),c&&y(r)}}}function Na(e){let t,n,r,o,s,i;return r=new Jr({props:{show:e[4],text:e[5]}}),{c(){t=m("button"),n=m("span"),R(r.$$.fragment),p(n,"class","flex items-center"),p(t,"class","btn btn-sm ml-auto"),M(t,"btn-disabled",!e[7]||e[7]&&e[3]&&e[2]),M(t,"btn-warning",e[1]===ee.running&&!e[2]),M(t,"btn-success",e[1]===ee.paused)},m(l,c){w(l,t,c),h(t,n),L(r,n,null),o=!0,s||(i=Q(t,"click",e[11]),s=!0)},p(l,c){const a={};c&16&&(a.show=l[4]),c&32&&(a.text=l[5]),r.$set(a),(!o||c&140)&&M(t,"btn-disabled",!l[7]||l[7]&&l[3]&&l[2]),(!o||c&6)&&M(t,"btn-warning",l[1]===ee.running&&!l[2]),(!o||c&2)&&M(t,"btn-success",l[1]===ee.paused)},i(l){o||(S(r.$$.fragment,l),o=!0)},o(l){A(r.$$.fragment,l),o=!1},d(l){l&&y(t),N(r),s=!1,i()}}}function Da(e){let t,n,r,o,s,i;return r=new Jr({props:{show:e[4],text:"start"}}),{c(){t=m("button"),n=m("span"),R(r.$$.fragment),p(n,"class","flex items-center"),p(t,"class","btn btn-success btn-sm ml-auto")},m(l,c){w(l,t,c),h(t,n),L(r,n,null),o=!0,s||(i=Q(t,"click",e[10]),s=!0)},p(l,c){const a={};c&16&&(a.show=l[4]),r.$set(a)},i(l){o||(S(r.$$.fragment,l),o=!0)},o(l){A(r.$$.fragment,l),o=!1},d(l){l&&y(t),N(r),s=!1,i()}}}function Ra(e){let t,n,r,o,s,i;n=new La({props:{pid:e[9],procState:e[1],locked:e[3]}});let l=e[7]&&Qn(e);return{c(){t=m("div"),R(n.$$.fragment),r=x(),l&&l.c(),p(t,"class","flex h-fit w-fit flex-col items-start gap-3 rounded border border-secondary p-2 pt-0 text-xl transition-colors duration-300"),M(t,"bg-base-300",e[7]),M(t,"border-accent",e[7]),M(t,"text-secondary-content",e[7]),M(t,"bg-base-100",!e[7]),M(t,"text-base-content",!e[7])},m(c,a){w(c,t,a),L(n,t,null),h(t,r),l&&l.m(t,null),o=!0,s||(i=Q(t,"click",e[13]),s=!0)},p(c,[a]){const u={};a&2&&(u.procState=c[1]),a&8&&(u.locked=c[3]),n.$set(u),c[7]?l?(l.p(c,a),a&128&&S(l,1)):(l=Qn(c),l.c(),S(l,1),l.m(t,null)):l&&(Re(),A(l,1,1,()=>{l=null}),ze()),(!o||a&128)&&M(t,"bg-base-300",c[7]),(!o||a&128)&&M(t,"border-accent",c[7]),(!o||a&128)&&M(t,"text-secondary-content",c[7]),(!o||a&128)&&M(t,"bg-base-100",!c[7]),(!o||a&128)&&M(t,"text-base-content",!c[7])},i(c){o||(S(n.$$.fragment,c),S(l),o=!0)},o(c){A(n.$$.fragment,c),A(l),o=!1},d(c){c&&y(t),N(n),l&&l.d(),s=!1,i()}}}function za(e,t,n){var _;let r,o,s,{selectedPid:i=null}=t,{ProcessHandle:l=null}=t;if(Rc([i,l],qr))throw new Error("invalid arguments");const c=(_=Pt("enable_breakpoint"))!=null?_:!1;de(e,c,g=>n(2,s=g));const a=l.pid;let u,f,d=!1,b;function $(){n(4,d=!0);const g=ct(l.execution_state);b=l.execution_state.subscribe(j=>{j!==g&&n(4,d=!1),sn(b)&&b()})}function k(){s||$(),l.start()}function E(){switch(s||$(),u){case ee.paused:{l.resume();break}case ee.running:{l.pause();break}}}let P;const C=()=>n(0,i=a);return e.$$set=g=>{"selectedPid"in g&&n(0,i=g.selectedPid),"ProcessHandle"in g&&n(12,l=g.ProcessHandle)},e.$$.update=()=>{e.$$.dirty&4096&&l.execution_state.subscribe(g=>n(1,u=g)),e.$$.dirty&4096&&l.program.locking_state.subscribe(g=>n(3,f=g===rt.Locked)),e.$$.dirty&1&&n(7,r=a===i),e.$$.dirty&2&&n(6,o=u===ee.ready||u===ee.completed),e.$$.dirty&6&&(s?n(5,P="step"):n(5,P=u===ee.running?"pause":"resume"))},[i,u,s,f,d,P,o,r,c,a,k,E,l,C]}class Ga extends J{constructor(t){super(),V(this,t,za,Ra,q,{selectedPid:0,ProcessHandle:12})}}function er(e,t,n){const r=e.slice();return r[4]=t[n],r}function Ha(e){let t,n,r=e[4][1]+"",o,s;return{c(){t=m("div"),n=m("div"),o=K(r),s=x(),p(n,"class",Xr),p(t,"class","ml-4 px-3 transition-all duration-300")},m(i,l){w(i,t,l),h(t,n),h(n,o),h(t,s)},p(i,l){l&2&&r!==(r=i[4][1]+"")&&le(o,r)},d(i){i&&y(t)}}}function Ba(e){let t,n,r,o,s,i=e[4][1]+"",l,c;return{c(){t=m("li"),n=m("span"),r=x(),o=m("div"),s=m("div"),l=K(i),c=x(),p(n,"class","badge indicator-item badge-secondary badge-sm indicator-start indicator-middle"),p(s,"class",Xr),p(o,"class","px-4"),p(t,"class","indicator ml-4")},m(a,u){w(a,t,u),h(t,n),h(t,r),h(t,o),h(o,s),h(s,l),h(t,c)},p(a,u){u&2&&i!==(i=a[4][1]+"")&&le(l,i)},d(a){a&&y(t)}}}function tr(e){let t;function n(s,i){return s[4][0]===s[2]?Ba:Ha}let r=n(e),o=r(e);return{c(){o.c(),t=At()},m(s,i){o.m(s,i),w(s,t,i)},p(s,i){r===(r=n(s))&&o?o.p(s,i):(o.d(1),o=r(s),o&&(o.c(),o.m(t.parentNode,t)))},d(s){o.d(s),s&&y(t)}}}function Ua(e){let t,n=e[1],r=[];for(let o=0;o<n.length;o+=1)r[o]=tr(er(e,n,o));return{c(){t=m("ol");for(let o=0;o<r.length;o+=1)r[o].c();p(t,"class","flex flex-col overflow-y-auto rounded bg-base-300 py-4 text-primary-content")},m(o,s){w(o,t,s);for(let i=0;i<r.length;i+=1)r[i].m(t,null)},p(o,[s]){if(s&6){n=o[1];let i;for(i=0;i<n.length;i+=1){const l=er(o,n,i);r[i]?r[i].p(l,s):(r[i]=tr(l),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:O,o:O,d(o){o&&y(t),We(r,o)}}}const Xr="min-h-6 font-mono h-fit whitespace-nowrap whitespace-pre";function Wa(e,t,n){let r,o,s=O,i=()=>(s(),s=Ue(l,a=>n(2,o=a)),l);e.$$.on_destroy.push(()=>s());let{lineno:l=null}=t;i();const c=Pt("source_code");if(de(e,c,a=>n(1,r=a)),qr(c)||Wr(c))throw new Error("empty source code");return e.$$set=a=>{"lineno"in a&&i(n(0,l=a.lineno))},[l,r,o,c]}class qa extends J{constructor(t){super(),V(this,t,Wa,Ua,q,{lineno:0})}}function nr(e,t,n){const r=e.slice();return r[21]=t[n],r}function Ka(e){let t,n,r;return{c(){t=m("button"),t.textContent="start",p(t,"class","btn btn-success absolute right-0")},m(o,s){w(o,t,s),n||(r=Q(t,"click",e[11]),n=!0)},p:O,d(o){o&&y(t),n=!1,r()}}}function Va(e){let t,n,r;return{c(){t=m("button"),t.textContent="reset",p(t,"class","btn btn-warning absolute right-0")},m(o,s){w(o,t,s),n||(r=Q(t,"click",e[12]),n=!0)},p:O,d(o){o&&y(t),n=!1,r()}}}function Ja(e){let t;function n(s,i){return s[5]&&s[8]?Ya:Xa}let r=n(e),o=r(e);return{c(){o.c(),t=At()},m(s,i){o.m(s,i),w(s,t,i)},p(s,i){r===(r=n(s))&&o?o.p(s,i):(o.d(1),o=r(s),o&&(o.c(),o.m(t.parentNode,t)))},d(s){o.d(s),s&&y(t)}}}function Xa(e){let t,n,r,o,s;return{c(){t=m("div"),t.textContent="pause all",n=x(),r=m("div"),r.textContent="resume all",p(t,"class","btn btn-warning absolute right-0"),M(t,"btn-disabled",e[4]),p(r,"class","btn btn-success absolute right-0"),M(r,"btn-disabled",!e[4])},m(i,l){w(i,t,l),w(i,n,l),w(i,r,l),o||(s=[Q(t,"click",e[10]),Q(r,"click",e[10])],o=!0)},p(i,l){l&16&&M(t,"btn-disabled",i[4]),l&16&&M(r,"btn-disabled",!i[4])},d(i){i&&y(t),i&&y(n),i&&y(r),o=!1,_e(s)}}}function Ya(e){let t,n,r;return{c(){t=m("div"),t.textContent="step all",p(t,"class","btn btn-success absolute right-0")},m(o,s){w(o,t,s),n||(r=Q(t,"click",e[13]),n=!0)},p:O,d(o){o&&y(t),n=!1,r()}}}function rr(e){let t,n,r;function o(i){e[18](i)}let s={ProcessHandle:e[21]};return e[1]!==void 0&&(s.selectedPid=e[1]),t=new Ga({props:s}),De.push(()=>wt(t,"selectedPid",o)),{c(){R(t.$$.fragment)},m(i,l){L(t,i,l),r=!0},p(i,l){const c={};l&8&&(c.ProcessHandle=i[21]),!n&&l&2&&(n=!0,c.selectedPid=i[1],yt(()=>n=!1)),t.$set(c)},i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){A(t.$$.fragment,i),r=!1},d(i){N(t,i)}}}function Za(e){let t,n;return t=new Qc({props:{stores:e[0].memory}}),{c(){R(t.$$.fragment)},m(r,o){L(t,r,o),n=!0},p(r,o){const s={};o&1&&(s.stores=r[0].memory),t.$set(s)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){N(t,r)}}}function Qa(e){let t,n,r,o,s,i,l,c,a,u,f,d,b,$,k,E,P,C,_,g,j,I,Y,B,ce,F;function Ee(T,G){return T[5]&&!T[7]?Ja:T[7]?Va:Ka}let Ae=Ee(e),X=Ae(e),z=e[3],v=[];for(let T=0;T<z.length;T+=1)v[T]=rr(nr(e,z,T));const U=T=>A(v[T],1,1,()=>{v[T]=null});g=new qa({props:{lineno:e[6]}});const H=e[16].default,Te=ge(H,e,e[15],null),oe=Te||Za(e);return{c(){t=m("div"),n=m("div"),r=m("div"),r.textContent="back",o=x(),s=m("div"),X.c(),i=x(),l=m("main"),c=m("section"),a=m("h2"),a.textContent="inspect one process",u=x(),f=m("div");for(let T=0;T<v.length;T+=1)v[T].c();d=x(),b=m("div"),$=x(),k=m("section"),E=m("h2"),P=K("source code of process "),C=K(e[1]),_=x(),R(g.$$.fragment),j=x(),I=m("div"),Y=x(),oe&&oe.c(),p(r,"class","btn"),p(n,"class","navbar-start"),p(s,"class","navbar-end relative h-12 gap-2"),p(t,"class","navbar mb-2 rounded bg-base-200 shadow-xl"),p(a,"class","mb-2 text-2xl underline"),p(f,"class","flex max-h-64 gap-3 overflow-y-auto"),p(b,"class","divider my-0"),p(E,"class","mb-2 text-2xl underline"),p(I,"class","divider my-0"),p(l,"class","mt-4 flex max-h-[90vh] flex-col")},m(T,G){w(T,t,G),h(t,n),h(n,r),h(t,o),h(t,s),X.m(s,null),w(T,i,G),w(T,l,G),h(l,c),h(c,a),h(c,u),h(c,f);for(let je=0;je<v.length;je+=1)v[je].m(f,null);h(l,d),h(l,b),h(l,$),h(l,k),h(k,E),h(E,P),h(E,C),h(k,_),L(g,k,null),h(l,j),h(l,I),h(l,Y),oe&&oe.m(l,null),B=!0,ce||(F=Q(r,"click",e[17]),ce=!0)},p(T,[G]){if(Ae===(Ae=Ee(T))&&X?X.p(T,G):(X.d(1),X=Ae(T),X&&(X.c(),X.m(s,null))),G&10){z=T[3];let te;for(te=0;te<z.length;te+=1){const gn=nr(T,z,te);v[te]?(v[te].p(gn,G),S(v[te],1)):(v[te]=rr(gn),v[te].c(),S(v[te],1),v[te].m(f,null))}for(Re(),te=z.length;te<v.length;te+=1)U(te);ze()}(!B||G&2)&&le(C,T[1]);const je={};G&64&&(je.lineno=T[6]),g.$set(je),Te?Te.p&&(!B||G&32768)&&ye(Te,H,T,T[15],B?be(H,T[15],G,null):we(T[15]),null):oe&&oe.p&&(!B||G&1)&&oe.p(T,B?G:-1)},i(T){if(!B){for(let G=0;G<z.length;G+=1)S(v[G]);S(g.$$.fragment,T),S(oe,T),B=!0}},o(T){v=v.filter(Boolean);for(let G=0;G<v.length;G+=1)A(v[G]);A(g.$$.fragment,T),A(oe,T),B=!1},d(T){T&&y(t),X.d(),T&&y(i),T&&y(l),We(v,T),N(g),oe&&oe.d(T),ce=!1,F()}}}function eu(e,t,n){let r,o,s=O,i=()=>(s(),s=Ue(k,F=>n(7,o=F)),k),l;e.$$.on_destroy.push(()=>s());let{$$slots:c={},$$scope:a}=t;const u=ke("InSimulation.svelte");let{getProcessGroup:f}=t,d=f();const b=Pt("enable_breakpoint");de(e,b,F=>n(8,l=F));const $=d.process_count;let k,E;ws(()=>{u("begin!");const F=ct(b);setTimeout(()=>{F===!0||F===!1?d.all.set_breakpoint(F):u(`enable_breakpoint=${F}`)},500)}),vs(()=>{u("finish!"),d.all.kill()});let P=0,C=!0;function _(){C?d.all.resume():d.all.pause(),n(4,C=!C)}let g=!1;function j(){n(5,g=!0),n(4,C=!1),d.all.start()}function I(){n(5,g=!1),n(4,C=!1),d.all.kill(),n(0,d=f())}function Y(){d.all.resume()}const B=()=>Ct.pop();function ce(F){P=F,n(1,P)}return e.$$set=F=>{"getProcessGroup"in F&&n(14,f=F.getProcessGroup),"$$scope"in F&&n(15,a=F.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&(n(3,E=Vr($,F=>d.pid(F))),i(n(2,k=ae(d.all.execution_state,F=>yc(F,Ee=>Ee===ee.completed))))),e.$$.dirty&3&&n(6,r=d.all.program[P].line_number)},[d,P,k,E,C,g,r,o,l,b,_,j,I,Y,f,a,c,B,ce]}class tu extends J{constructor(t){super(),V(this,t,eu,Qa,q,{getProcessGroup:14})}}function sr(e,t,n){const r=e.slice();return r[6]=t[n],r[8]=n,r}function or(e){let t,n=e[6].name+"",r,o;return{c(){t=m("option"),r=K(n),t.__value=o=e[6].name,t.value=t.__value},m(s,i){w(s,t,i),h(t,r)},p(s,i){i&1&&n!==(n=s[6].name+"")&&le(r,n),i&1&&o!==(o=s[6].name)&&(t.__value=o,t.value=t.__value)},d(s){s&&y(t)}}}function nu(e){let t,n,r,o,s,i,l,c,a,u,f,d,b,$,k,E,P,C=e[0],_=[];for(let g=0;g<C.length;g+=1)_[g]=or(sr(e,C,g));return{c(){t=m("div"),n=m("div"),n.innerHTML='<div class="btn btn-ghost text-4xl normal-case text-accent">MutexSim</div>',r=x(),o=m("div"),s=m("div"),s.textContent="next",i=x(),l=m("main"),c=m("label"),c.innerHTML='<span class="label-text mb-4 text-2xl underline">Choose an algorithm</span>',a=x(),u=m("select");for(let g=0;g<_.length;g+=1)_[g].c();f=x(),d=m("div"),b=x(),$=m("div"),k=K(e[2]),p(n,"class","navbar-start"),p(s,"class","btn absolute right-0"),p(o,"class","navbar-end relative h-10"),p(t,"class","navbar mb-2 rounded bg-base-200 shadow-xl"),p(c,"class","label"),p(c,"for","SelectAlgo"),p(u,"id","SelectAlgo"),p(u,"class","select select-primary w-full max-w-xs text-xl"),e[1]===void 0&&bt(()=>e[5].call(u)),p(d,"class","divider"),p($,"class","whitespace-pre-wrap text-xl"),p(l,"class","p-4")},m(g,j){w(g,t,j),h(t,n),h(t,r),h(t,o),h(o,s),w(g,i,j),w(g,l,j),h(l,c),h(l,a),h(l,u);for(let I=0;I<_.length;I+=1)_[I].m(u,null);vn(u,e[1]),h(l,f),h(l,d),h(l,b),h(l,$),h($,k),E||(P=[Q(s,"click",e[4]),Q(u,"change",e[5])],E=!0)},p(g,[j]){if(j&1){C=g[0];let I;for(I=0;I<C.length;I+=1){const Y=sr(g,C,I);_[I]?_[I].p(Y,j):(_[I]=or(Y),_[I].c(),_[I].m(u,null))}for(;I<_.length;I+=1)_[I].d(1);_.length=C.length}j&3&&vn(u,g[1]),j&4&&le(k,g[2])},i:O,o:O,d(g){g&&y(t),g&&y(i),g&&y(l),We(_,g),E=!1,_e(P)}}}function ru(e,t,n){let r,{options:o=[]}=t,{selected:s}=t,i=s.name;const l=()=>Ct.push("AlgoConfig");function c(){i=ys(this),n(1,i),n(0,o)}return e.$$set=a=>{"options"in a&&n(0,o=a.options),"selected"in a&&n(3,s=a.selected)},e.$$.update=()=>{var a;e.$$.dirty&3&&n(3,s=kc(o,u=>u.name===i)),e.$$.dirty&8&&n(2,r=(a=s.description)!=null?a:Ic(Vr(10,()=>s.name),", "))},[o,i,r,s,l,c]}class su extends J{constructor(t){super(),V(this,t,ru,nu,q,{options:0,selected:3})}}function ir(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function lr(e){let t,n=e[9]+"",r,o;return{c(){t=m("span"),r=K(n),p(t,"class",o="absolute "+(e[9]>9&&"-translate-x-1/2")+" text-2xl"),wn(t,"left",100*e[11]*e[2]/e[3]+"%")},m(s,i){w(s,t,i),h(t,r)},p(s,i){i&4&&n!==(n=s[9]+"")&&le(r,n),i&4&&o!==(o="absolute "+(s[9]>9&&"-translate-x-1/2")+" text-2xl")&&p(t,"class",o),i&4&&wn(t,"left",100*s[11]*s[2]/s[3]+"%")},d(s){s&&y(t)}}}function ou(e){let t,n,r,o,s,i,l,c,a,u,f,d,b,$,k,E,P,C,_,g,j,I,Y,B,ce,F,Ee,Ae,X=Wn(1,Math.max(2,e[3]-1),e[2]),z=[];for(let v=0;v<X.length;v+=1)z[v]=lr(ir(e,X,v));return{c(){t=m("div"),n=m("div"),r=m("div"),r.textContent="back",o=x(),s=m("div"),i=m("div"),i.textContent="go",l=x(),c=m("div"),a=m("span"),a.textContent="Process count",u=x(),f=m("div"),d=K(e[0]),b=x(),$=m("input"),k=x(),E=m("div");for(let v=0;v<z.length;v+=1)z[v].c();P=x(),C=m("span"),C.textContent=`${e[3]}`,_=x(),g=m("div"),j=x(),I=m("div"),Y=m("label"),B=m("span"),B.textContent="Enable breakpoint",ce=x(),F=m("input"),p(r,"class","btn"),p(n,"class","navbar-start"),p(i,"class","btn btn-success absolute right-0 h-10"),p(s,"class","navbar-end relative h-12 gap-2"),p(t,"class","navbar mb-2 rounded bg-base-200 shadow-xl"),p(a,"class","text-2xl underline"),p(f,"class","my-6 text-4xl"),p(c,"class","flex place-content-between items-center "),p($,"type","range"),p($,"min","1"),p($,"max",e[3]),p($,"class","range range-primary range-lg"),p($,"step","1"),p(C,"class","absolute right-0 -translate-x-1/2 text-2xl"),p(E,"class","relative mx-2 flex h-8 w-full justify-between px-2"),p(g,"class","divider"),p(B,"class","label-text text-2xl underline"),p(F,"type","checkbox"),p(F,"class","toggle toggle-primary toggle-lg"),p(Y,"class","label cursor-pointer"),p(I,"class","form-control mt-12")},m(v,U){w(v,t,U),h(t,n),h(n,r),h(t,o),h(t,s),h(s,i),w(v,l,U),w(v,c,U),h(c,a),h(c,u),h(c,f),h(f,d),w(v,b,U),w(v,$,U),yn($,e[0]),w(v,k,U),w(v,E,U);for(let H=0;H<z.length;H+=1)z[H].m(E,null);h(E,P),h(E,C),w(v,_,U),w(v,g,U),w(v,j,U),w(v,I,U),h(I,Y),h(Y,B),h(Y,ce),h(Y,F),F.checked=e[1],Ee||(Ae=[Q(r,"click",e[5]),Q(i,"click",e[6]),Q($,"change",e[7]),Q($,"input",e[7]),Q(F,"change",e[8])],Ee=!0)},p(v,[U]){if(U&1&&le(d,v[0]),U&1&&yn($,v[0]),U&12){X=Wn(1,Math.max(2,v[3]-1),v[2]);let H;for(H=0;H<X.length;H+=1){const Te=ir(v,X,H);z[H]?z[H].p(Te,U):(z[H]=lr(Te),z[H].c(),z[H].m(E,P))}for(;H<z.length;H+=1)z[H].d(1);z.length=X.length}U&2&&(F.checked=v[1])},i:O,o:O,d(v){v&&y(t),v&&y(l),v&&y(c),v&&y(b),v&&y($),v&&y(k),v&&y(E),We(z,v),v&&y(_),v&&y(g),v&&y(j),v&&y(I),Ee=!1,_e(Ae)}}}function iu(e,t,n){let r,{process_count:o}=t,{max_process_count:s}=t,{enable_breakpoint:i}=t;const l=s;o=Math.min(s,o);const c=()=>Ct.pop(),a=()=>Ct.push("InSimulation");function u(){o=gs(this.value),n(0,o)}function f(){i=this.checked,n(1,i)}return e.$$set=d=>{"process_count"in d&&n(0,o=d.process_count),"max_process_count"in d&&n(4,s=d.max_process_count),"enable_breakpoint"in d&&n(1,i=d.enable_breakpoint)},n(2,r=Math.floor(l/5)),[o,i,r,l,s,c,a,u,f]}class lu extends J{constructor(t){super(),V(this,t,iu,ou,q,{process_count:0,max_process_count:4,enable_breakpoint:1})}}function cr(e){let t;const n=e[3].default,r=ge(n,e,e[2],null);return{c(){r&&r.c()},m(o,s){r&&r.m(o,s),t=!0},p(o,s){r&&r.p&&(!t||s&4)&&ye(r,n,o,o[2],t?be(n,o[2],s,null):we(o[2]),null)},i(o){t||(S(r,o),t=!0)},o(o){A(r,o),t=!1},d(o){r&&r.d(o)}}}function cu(e){let t,n,r=e[0]===e[1]&&cr(e);return{c(){t=m("section"),r&&r.c(),p(t,"class","w-screen p-2")},m(o,s){w(o,t,s),r&&r.m(t,null),n=!0},p(o,[s]){o[0]===o[1]?r?(r.p(o,s),s&3&&S(r,1)):(r=cr(o),r.c(),S(r,1),r.m(t,null)):r&&(Re(),A(r,1,1,()=>{r=null}),ze())},i(o){n||(S(r),n=!0)},o(o){A(r),n=!1},d(o){o&&y(t),r&&r.d()}}}function au(e,t,n){let{$$slots:r={},$$scope:o}=t,{id:s}=t,{offset:i}=t;return e.$$set=l=>{"id"in l&&n(0,s=l.id),"offset"in l&&n(1,i=l.offset),"$$scope"in l&&n(2,o=l.$$scope)},[s,i,o,r]}class Wt extends J{constructor(t){super(),V(this,t,au,cu,q,{id:0,offset:1})}}const uu=e=>({}),ar=e=>({}),fu=e=>({}),ur=e=>({}),du=e=>({}),fr=e=>({});function pu(e){let t;return{c(){t=K("left")},m(n,r){w(n,t,r)},d(n){n&&y(t)}}}function hu(e){let t;const n=e[1].left,r=ge(n,e,e[2],fr),o=r||pu();return{c(){o&&o.c()},m(s,i){o&&o.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4)&&ye(r,n,s,s[2],t?be(n,s[2],i,du):we(s[2]),fr)},i(s){t||(S(o,s),t=!0)},o(s){A(o,s),t=!1},d(s){o&&o.d(s)}}}function mu(e){let t;return{c(){t=K("middle")},m(n,r){w(n,t,r)},d(n){n&&y(t)}}}function _u(e){let t;const n=e[1].middle,r=ge(n,e,e[2],ur),o=r||mu();return{c(){o&&o.c()},m(s,i){o&&o.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4)&&ye(r,n,s,s[2],t?be(n,s[2],i,fu):we(s[2]),ur)},i(s){t||(S(o,s),t=!0)},o(s){A(o,s),t=!1},d(s){o&&o.d(s)}}}function gu(e){let t;return{c(){t=K("right")},m(n,r){w(n,t,r)},d(n){n&&y(t)}}}function bu(e){let t;const n=e[1].right,r=ge(n,e,e[2],ar),o=r||gu();return{c(){o&&o.c()},m(s,i){o&&o.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4)&&ye(r,n,s,s[2],t?be(n,s[2],i,uu):we(s[2]),ar)},i(s){t||(S(o,s),t=!0)},o(s){A(o,s),t=!1},d(s){o&&o.d(s)}}}function yu(e){let t,n,r,o,s,i,l;return n=new Wt({props:{offset:e[0],id:0,$$slots:{default:[hu]},$$scope:{ctx:e}}}),o=new Wt({props:{offset:e[0],id:1,$$slots:{default:[_u]},$$scope:{ctx:e}}}),i=new Wt({props:{offset:e[0],id:2,$$slots:{default:[bu]},$$scope:{ctx:e}}}),{c(){t=m("main"),R(n.$$.fragment),r=x(),R(o.$$.fragment),s=x(),R(i.$$.fragment),p(t,"class","flex w-[300vw] transition-transform duration-200 svelte-dy322v"),M(t,"offset-0",e[0]===0),M(t,"offset-1",e[0]===1),M(t,"offset-2",e[0]===2)},m(c,a){w(c,t,a),L(n,t,null),h(t,r),L(o,t,null),h(t,s),L(i,t,null),l=!0},p(c,[a]){const u={};a&1&&(u.offset=c[0]),a&4&&(u.$$scope={dirty:a,ctx:c}),n.$set(u);const f={};a&1&&(f.offset=c[0]),a&4&&(f.$$scope={dirty:a,ctx:c}),o.$set(f);const d={};a&1&&(d.offset=c[0]),a&4&&(d.$$scope={dirty:a,ctx:c}),i.$set(d),(!l||a&1)&&M(t,"offset-0",c[0]===0),(!l||a&1)&&M(t,"offset-1",c[0]===1),(!l||a&1)&&M(t,"offset-2",c[0]===2)},i(c){l||(S(n.$$.fragment,c),S(o.$$.fragment,c),S(i.$$.fragment,c),l=!0)},o(c){A(n.$$.fragment,c),A(o.$$.fragment,c),A(i.$$.fragment,c),l=!1},d(c){c&&y(t),N(n),N(o),N(i)}}}function wu(e,t,n){let{$$slots:r={},$$scope:o}=t,{offset:s}=t;return e.$$set=i=>{"offset"in i&&n(0,s=i.offset),"$$scope"in i&&n(2,o=i.$$scope)},[s,r,o]}class vu extends J{constructor(t){super(),V(this,t,wu,yu,q,{offset:0})}}const $u=ae([Bc,Wc,Uc],([e,t,n],r)=>{if(e)r(0);else if(t)r(1);else if(n)r(2);else throw new Error("It's on none of these three pages")});function Cu(){return new Worker("/software-mutex-sim/assets/Lamport-tk2.77ac3f9d.js")}const ku=99,dr=-99,pr=0,Eu=`Lamport\u2019s Distributed Mutual Exclusion Algorithm is a permission based algorithm proposed by Lamport as an illustration of his synchronization scheme for distributed systems.
In permission based timestamp is used to order critical section requests and to resolve any conflict between requests.
In Lamport\u2019s Algorithm critical section requests are executed in the increasing order of timestamps i.e a request with smaller timestamp will be given permission to execute critical section first than a request with larger timestamp.`,Su={source_code:[[1,"flag[pid] = TRUE;"],[2,"label[pid] = max(label) + 1;"],[3,"do {"],[51,""],[-1,"} while (should_wait(pid, label, flag));"],[4,"<<critical region>>"],[5,"flag[who] = FALSE;"]],process_count:4,name:"Lamport's Algorithm",description:Eu,memory_transform:e=>{switch(e){case ku:return"TRUE";case dr:return"FALSE";case pr:return"X";default:return e.toString()}},algorithm_impl_builder:()=>new Cu,get_memory:e=>({flag:new Array(e).fill(dr),label:new Array(e).fill(pr)})};function Au(){return new Worker("/software-mutex-sim/assets/Peterson-tk2.1f697e7f.js")}const Tu=`\u5F7C\u5F97\u68EE\u7B97\u6CD5\uFF08\u6216\u5F7C\u5F97\u68EE\u7684\u89E3\u51B3\u65B9\u6848\uFF09\u662F\u4E00\u79CD\u7528\u4E8E\u4E92\u65A5\u7684\u5E76\u53D1\u7F16\u7A0B\u7B97\u6CD5\uFF0C\u5B83\u5141\u8BB8\u4E24\u4E2A\u6216\u591A\u4E2A\u8FDB\u7A0B\u5171\u4EAB\u4E00\u4E2A\u5355\u4E00\u4F7F\u7528\u7684\u8D44\u6E90\u800C\u4E0D\u4F1A\u53D1\u751F\u51B2\u7A81\uFF0C\u53EA\u4F7F\u7528\u5171\u4EAB\u5185\u5B58\u8FDB\u884C\u901A\u4FE1\u3002

\u5B83\u7531 Gary L. Peterson \u4E8E 1981 \u5E74\u5236\u5B9A\u3002

\u867D\u7136\u5F7C\u5F97\u68EE\u7684\u539F\u59CB\u516C\u5F0F\u4EC5\u9002\u7528\u4E8E\u4E24\u4E2A\u8FC7\u7A0B\uFF0C\u4F46\u8BE5\u7B97\u6CD5\u53EF\u4EE5\u63A8\u5E7F\u5230\u4E24\u4E2A\u4EE5\u4E0A\u3002`,Pu={source_code:[[1,"for (let i = 1; i < process_count; i++) {"],[2,"  level[pid] = i;"],[3,"  victim[i] = pid;"],[4,"  do {"],[100,""],[5,"  } while (!can_proceed(pid, i, level, victim));"],[6,"}"],[101,"<<critical region>>"],[7,"level[who] = 0;"],[102,"<<DONE>>"]],process_count:4,name:"Peterson's Algorithm",description:Tu,memory_transform:rn,algorithm_impl_builder:()=>new Au,get_memory:e=>({level:new Array(e).fill(0),victim:new Array(e).fill(0)})};function xu(){return new Worker("/software-mutex-sim/assets/Dekker-tk2.22a4cfee.js")}const Ou=`Dekker's algorithm is the first known correct solution to the mutual exclusion problem in concurrent programming where processes only communicate via shared memory. The solution is attributed to Dutch mathematician Th. J. Dekker by Edsger W. Dijkstra in an unpublished paper on sequential process descriptions and his manuscript on cooperating sequential processes. It allows two threads to share a single-use resource without conflict, using only shared memory for communication.

Dekker \u7B97\u6CD5\u662F\u5E76\u53D1\u7F16\u7A0B\u4E2D\u4E92\u65A5\u95EE\u9898\u7684\u7B2C\u4E00\u4E2A\u5DF2\u77E5\u6B63\u786E\u89E3\u51B3\u65B9\u6848\uFF0C\u5176\u4E2D\u8FDB\u7A0B\u4EC5\u901A\u8FC7\u5171\u4EAB\u5185\u5B58\u8FDB\u884C\u901A\u4FE1\u3002\u8BE5\u89E3\u51B3\u65B9\u6848\u5F52\u529F\u4E8E\u8377\u5170\u6570\u5B66\u5BB6Th\u3002 Edsger W. Dijkstra \u7684 J. Dekker \u5728\u4E00\u7BC7\u5173\u4E8E\u987A\u5E8F\u8FC7\u7A0B\u63CF\u8FF0\u7684\u672A\u53D1\u8868\u8BBA\u6587\u548C\u4ED6\u5173\u4E8E\u534F\u4F5C\u987A\u5E8F\u8FC7\u7A0B\u7684\u624B\u7A3F\u4E2D\u3002\u5B83\u5141\u8BB8\u4E24\u4E2A\u7EBF\u7A0B\u5171\u4EAB\u4E00\u4E2A\u4E00\u6B21\u6027\u8D44\u6E90\u800C\u4E0D\u4F1A\u53D1\u751F\u51B2\u7A81\uFF0C\u53EA\u4F7F\u7528\u5171\u4EAB\u5185\u5B58\u8FDB\u884C\u901A\u4FE1\u3002

It avoids the strict alternation of a na\xEFve turn-taking algorithm, and was one of the first mutual exclusion algorithms to be invented.

\u5B83\u907F\u514D\u4E86\u5929\u771F\u7684\u8F6E\u6D41\u7B97\u6CD5\u7684\u4E25\u683C\u4EA4\u66FF\uFF0C\u5E76\u4E14\u662F\u6700\u65E9\u53D1\u660E\u7684\u4E92\u65A5\u7B97\u6CD5\u4E4B\u4E00\u3002
`,Iu=99,hr=-99,Fu={source_code:[[1,"wants_to_enter[who] = TRUE;"],[2,`while (
  TRUE === 
  wants_to_enter[counterpart(who)]
) {`],[4,"  if (turn[0] !== who) {"],[6,"    wants_to_enter[who] = FALSE;"],[7,"    while (turn[0] !== who) {"],[8,"      // busy waiting"],[-1,"    }"],[9,"    wants_to_enter[who] = TRUE;"],[-2,"  }"],[-3,"}"],[101,"<<critical region>>"],[51,"wants_to_enter[who] = FALSE;"],[52,"turn[0] = counterpart(who);"],[102,"<<DONE>>"]],process_count:2,max_process_count:2,name:"Dekker's Algorithm",description:Ou,memory_transform:e=>{switch(e){case Iu:return"YES";case hr:return"NO";default:return e.toString()}},algorithm_impl_builder:()=>new xu,get_memory:e=>({wants_to_enter:new Array(e).fill(hr),turn:[1]})};function ju(){return new Worker("/software-mutex-sim/assets/EisenbergAndMcGuire-tk2.88649c07.js")}const Mu=`An N-Process Solution: Eisenberg and McGuire's Algorithm

This is a correct solution for the N-process case developed by Eisenberg and McGuire. Earlier solutions had been proposed by Dijkstra, Knuth, and DeBruijn. This solution improves on the previous ones by reducing the bound on how many turns a process may have to wait to the minimum possible, n-1.

CONCEPT: The turn variable and status flags are used as in Dekker's algorithm for the 2-process case. The flags now have three possible values: WAITING for a process in the entry protocol, waiting for the resource' ACTIVE for a process in the critical section, using the resource; and IDLE for other cases.

Process priority is maintained in circular order beginning with the one holding the turn. Each process begins the entry protocol by scanning all processes from the one with the turn up to itself. These are the only processes that might have to go first if there is competition.

If the scan finds all processes idle, the process advances tentatively to the ACTIVE state. However, it is still possible that another process which started scanning later but belongs before us will also reach this state. We check one more time to be sure there are no active processes.

N \u8FC7\u7A0B\u89E3\u51B3\u65B9\u6848\uFF1AEisenberg \u548C McGuire \u7B97\u6CD5

\u8FD9\u662F Eisenberg \u548C McGuire \u5F00\u53D1\u7684 N \u8FC7\u7A0B\u6848\u4F8B\u7684\u6B63\u786E\u89E3\u51B3\u65B9\u6848\u3002 Dijkstra\u3001Knuth \u548C DeBruijn \u63D0\u51FA\u4E86\u65E9\u671F\u7684\u89E3\u51B3\u65B9\u6848\u3002\u6B64\u89E3\u51B3\u65B9\u6848\u901A\u8FC7\u5C06\u8FDB\u7A0B\u53EF\u80FD\u5FC5\u987B\u7B49\u5F85\u7684\u8F6C\u6570\u9650\u5236\u51CF\u5C11\u5230\u53EF\u80FD\u7684\u6700\u5C0F\u503C n-1\uFF0C\u4ECE\u800C\u6539\u8FDB\u4E86\u4E4B\u524D\u7684\u89E3\u51B3\u65B9\u6848\u3002

\u6982\u5FF5\uFF1A\u8F6C\u53D8\u91CF\u548C\u72B6\u6001\u6807\u5FD7\u5728 Dekker \u7B97\u6CD5\u4E2D\u7528\u4E8E 2 \u8FDB\u7A0B\u60C5\u51B5\u3002\u8FD9\u4E9B\u6807\u5FD7\u73B0\u5728\u5177\u6709\u4E09\u4E2A\u53EF\u80FD\u7684\u503C\uFF1A\u7B49\u5F85\u5165\u53E3\u534F\u8BAE\u4E2D\u7684\u8FDB\u7A0B\uFF0C\u7B49\u5F85\u8D44\u6E90\u7684 ACTIVE \u7528\u4E8E\u4E34\u754C\u533A\u4E2D\u7684\u8FDB\u7A0B\uFF0C\u4F7F\u7528\u8D44\u6E90\uFF1B\u548C\u5176\u4ED6\u60C5\u51B5\u4E0B\u7684\u7A7A\u95F2\u3002

\u8FDB\u7A0B\u4F18\u5148\u7EA7\u4EE5\u5FAA\u73AF\u987A\u5E8F\u4FDD\u6301\uFF0C\u4ECE\u8F6E\u5230\u7684\u90A3\u4E2A\u5F00\u59CB\u3002\u6BCF\u4E2A\u8FDB\u7A0B\u901A\u8FC7\u626B\u63CF\u6240\u6709\u8FDB\u7A0B\u5F00\u59CB\u8FDB\u5165\u534F\u8BAE\uFF0C\u4ECE\u4E00\u4E2A\u6253\u5F00\u7684\u8FDB\u7A0B\u5230\u5B83\u81EA\u5DF1\u3002\u5982\u679C\u5B58\u5728\u7ADE\u4E89\uFF0C\u8FD9\u4E9B\u662F\u552F\u4E00\u53EF\u80FD\u5FC5\u987B\u9996\u5148\u8FDB\u884C\u7684\u8FC7\u7A0B\u3002

\u5982\u679C\u626B\u63CF\u53D1\u73B0\u6240\u6709\u8FDB\u7A0B\u90FD\u5904\u4E8E\u7A7A\u95F2\u72B6\u6001\uFF0C\u5219\u8FDB\u7A0B\u6682\u65F6\u8FDB\u5165 ACTIVE \u72B6\u6001\u3002\u4F46\u662F\uFF0C\u4ECD\u7136\u6709\u53EF\u80FD\u7A0D\u540E\u5F00\u59CB\u626B\u63CF\u4F46\u5C5E\u4E8E\u6211\u4EEC\u4E4B\u524D\u7684\u53E6\u4E00\u4E2A\u8FDB\u7A0B\u4E5F\u5C06\u8FBE\u5230\u6B64\u72B6\u6001\u3002\u6211\u4EEC\u518D\u68C0\u67E5\u4E00\u6B21\u4EE5\u786E\u4FDD\u6CA1\u6709\u6D3B\u52A8\u8FDB\u7A0B\u3002
`,Lu=13,Nu=99,Du=42,Ru={algorithm_impl_builder:()=>new ju,description:Mu,get_memory:e=>({flag:new Array(e).fill(0),turn:[0]}),memory_transform:e=>{switch(e){case Du:return"WANT_IN";case Lu:return"IDLE";case Nu:return"IN_CS";default:return e.toString()}},name:"Eisenberg/McGuire's Algorithm",process_count:5,source_code:[[0,"const i = who;"],[1,"let j;"],[2,"do {"],[3,"  flag[i] = WANT_IN;"],[4,"  j = turn[0];"],[5,"  while (j != i) {"],[6,"    if (flag[j] != IDLE) {"],[7,"      j = turn[0];"],[8,"    } else {"],[9,"      j += 1;"],[10,"      j %= process_count;"],[11,"    }"],[12,"  }"],[13,"  flag[i] = IN_CS;"],[14,"  j = 0;"],[15,`  while (
    j < process_count 
    && (j === i || flag[j] !== IN_CS)
  ) {`],[16,"    j += 1;"],[17,"  }"],[18,`  if (
    j >= process_count 
    && (
      turn[0] == i 
      || flag[turn[0]] == IDLE
    )
  ) {`],[19,"    break;"],[20,"  }"],[21,"} while (true);"],[22,"turn[0] = i;"],[101,"<<critical region>>"],[50,"let pid = (turn[0] + 1) % process_count;"],[51,"while (true) {"],[52,"  pid += 1;"],[53,"  pid %= process_count;"],[54,"  if (flag[pid] !== IDLE) {"],[55,"    break;"],[56,"  }"],[57,"}"],[58,"turn[0] = pid;"],[59,"flag[who] = IDLE;"],[102,"<<DONE>>"]]},zu=new Map([["Lamport's Algorithm",Su],["Peterson's Algorithm",Pu],["Dekker's Algorithm",Fu],["Eisenberg/McGuire's Algorithm",Ru]]);function Gu(e){const t=ke("memory sync handler"),n=ue({});for(const o in e)n.update(s=>({...s,[o]:ue(Array.from(e[o]))}));function r(o){if(ne(o)&&o.length===3){const[s,i,l]=o,c=ct(n);t("attempting to update store %s %d %d",s,i,l),Kr(c[s])?t("segment fault %s",s):(c[s].update(a=>(a[i]=l,a)),n.set(c),t("success"))}}return[n,r]}const mr={deserialize(e){return Object.assign(Error(e.message),{name:e.name,stack:e.stack})},serialize(e){return{__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack}}},Hu=e=>e&&typeof e=="object"&&"__error_marker"in e&&e.__error_marker==="$$error",Bu={deserialize(e){return Hu(e)?mr.deserialize(e):e},serialize(e){return e instanceof Error?mr.serialize(e):e}};let Yr=Bu;function _t(e){return Yr.deserialize(e)}function _r(e){return Yr.serialize(e)}var Uu=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function l(u){try{a(r.next(u))}catch(f){i(f)}}function c(u){try{a(r.throw(u))}catch(f){i(f)}}function a(u){u.done?s(u.value):o(u.value).then(l,c)}a((r=r.apply(e,t||[])).next())})};class Lt{constructor(t){this._baseObserver=t,this._pendingPromises=new Set}complete(){Promise.all(this._pendingPromises).then(()=>this._baseObserver.complete()).catch(t=>this._baseObserver.error(t))}error(t){this._baseObserver.error(t)}schedule(t){const n=Promise.all(this._pendingPromises),r=[],o=i=>r.push(i),s=Promise.resolve().then(()=>Uu(this,void 0,void 0,function*(){yield n,yield t(o),this._pendingPromises.delete(s);for(const i of r)this._baseObserver.next(i)})).catch(i=>{this._pendingPromises.delete(s),this._baseObserver.error(i)});this._pendingPromises.add(s)}}const Zr=()=>typeof Symbol=="function",ut=e=>Zr()&&Boolean(Symbol[e]),mn=e=>ut(e)?Symbol[e]:"@@"+e;ut("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const Wu=mn("iterator"),tn=mn("observable"),Qr=mn("species");function kt(e,t){const n=e[t];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function Qe(e){let t=e.constructor;return t!==void 0&&(t=t[Qr],t===null&&(t=void 0)),t!==void 0?t:re}function qu(e){return e instanceof re}function Be(e){Be.log?Be.log(e):setTimeout(()=>{throw e},0)}function gt(e){Promise.resolve().then(()=>{try{e()}catch(t){Be(t)}})}function es(e){const t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{const n=kt(t,"unsubscribe");n&&n.call(t)}}catch(n){Be(n)}}function nn(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function Ku(e){const t=e._queue;if(!!t){e._queue=void 0,e._state="ready";for(const n of t)if(ts(e,n.type,n.value),e._state==="closed")break}}function ts(e,t,n){e._state="running";const r=e._observer;try{const o=r?kt(r,t):void 0;switch(t){case"next":o&&o.call(r,n);break;case"error":if(nn(e),o)o.call(r,n);else throw n;break;case"complete":nn(e),o&&o.call(r);break}}catch(o){Be(o)}e._state==="closed"?es(e):e._state==="running"&&(e._state="ready")}function qt(e,t,n){if(e._state!=="closed"){if(e._state==="buffering"){e._queue=e._queue||[],e._queue.push({type:t,value:n});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:n}],gt(()=>Ku(e));return}ts(e,t,n)}}class Vu{constructor(t,n){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";const r=new Ju(this);try{this._cleanup=n.call(void 0,r)}catch(o){r.error(o)}this._state==="initializing"&&(this._state="ready")}get closed(){return this._state==="closed"}unsubscribe(){this._state!=="closed"&&(nn(this),es(this))}}class Ju{constructor(t){this._subscription=t}get closed(){return this._subscription._state==="closed"}next(t){qt(this._subscription,"next",t)}error(t){qt(this._subscription,"error",t)}complete(){qt(this._subscription,"complete")}}class re{constructor(t){if(!(this instanceof re))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}subscribe(t,n,r){return(typeof t!="object"||t===null)&&(t={next:t,error:n,complete:r}),new Vu(t,this._subscriber)}pipe(t,...n){let r=this;for(const o of[t,...n])r=o(r);return r}tap(t,n,r){const o=typeof t!="object"||t===null?{next:t,error:n,complete:r}:t;return new re(s=>this.subscribe({next(i){o.next&&o.next(i),s.next(i)},error(i){o.error&&o.error(i),s.error(i)},complete(){o.complete&&o.complete(),s.complete()},start(i){o.start&&o.start(i)}}))}forEach(t){return new Promise((n,r)=>{if(typeof t!="function"){r(new TypeError(t+" is not a function"));return}function o(){s.unsubscribe(),n(void 0)}const s=this.subscribe({next(i){try{t(i,o)}catch(l){r(l),s.unsubscribe()}},error(i){r(i)},complete(){n(void 0)}})})}map(t){if(typeof t!="function")throw new TypeError(t+" is not a function");const n=Qe(this);return new n(r=>this.subscribe({next(o){let s=o;try{s=t(o)}catch(i){return r.error(i)}r.next(s)},error(o){r.error(o)},complete(){r.complete()}}))}filter(t){if(typeof t!="function")throw new TypeError(t+" is not a function");const n=Qe(this);return new n(r=>this.subscribe({next(o){try{if(!t(o))return}catch(s){return r.error(s)}r.next(o)},error(o){r.error(o)},complete(){r.complete()}}))}reduce(t,n){if(typeof t!="function")throw new TypeError(t+" is not a function");const r=Qe(this),o=arguments.length>1;let s=!1,i=n;return new r(l=>this.subscribe({next(c){const a=!s;if(s=!0,!a||o)try{i=t(i,c)}catch(u){return l.error(u)}else i=c},error(c){l.error(c)},complete(){if(!s&&!o)return l.error(new TypeError("Cannot reduce an empty sequence"));l.next(i),l.complete()}}))}concat(...t){const n=Qe(this);return new n(r=>{let o,s=0;function i(l){o=l.subscribe({next(c){r.next(c)},error(c){r.error(c)},complete(){s===t.length?(o=void 0,r.complete()):i(n.from(t[s++]))}})}return i(this),()=>{o&&(o.unsubscribe(),o=void 0)}})}flatMap(t){if(typeof t!="function")throw new TypeError(t+" is not a function");const n=Qe(this);return new n(r=>{const o=[],s=this.subscribe({next(l){let c;if(t)try{c=t(l)}catch(u){return r.error(u)}else c=l;const a=n.from(c).subscribe({next(u){r.next(u)},error(u){r.error(u)},complete(){const u=o.indexOf(a);u>=0&&o.splice(u,1),i()}});o.push(a)},error(l){r.error(l)},complete(){i()}});function i(){s.closed&&o.length===0&&r.complete()}return()=>{o.forEach(l=>l.unsubscribe()),s.unsubscribe()}})}[tn](){return this}static from(t){const n=typeof this=="function"?this:re;if(t==null)throw new TypeError(t+" is not an object");const r=kt(t,tn);if(r){const o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return qu(o)&&o.constructor===n?o:new n(s=>o.subscribe(s))}if(ut("iterator")){const o=kt(t,Wu);if(o)return new n(s=>{gt(()=>{if(!s.closed){for(const i of o.call(t))if(s.next(i),s.closed)return;s.complete()}})})}if(Array.isArray(t))return new n(o=>{gt(()=>{if(!o.closed){for(const s of t)if(o.next(s),o.closed)return;o.complete()}})});throw new TypeError(t+" is not observable")}static of(...t){const n=typeof this=="function"?this:re;return new n(r=>{gt(()=>{if(!r.closed){for(const o of t)if(r.next(o),r.closed)return;r.complete()}})})}static get[Qr](){return this}}Zr()&&Object.defineProperty(re,Symbol("extensions"),{value:{symbol:tn,hostReportError:Be},configurable:!0});const fe=re;function Fe(e){typeof e=="function"?e():e&&typeof e.unsubscribe=="function"&&e.unsubscribe()}var Xu=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function l(u){try{a(r.next(u))}catch(f){i(f)}}function c(u){try{a(r.throw(u))}catch(f){i(f)}}function a(u){u.done?s(u.value):o(u.value).then(l,c)}a((r=r.apply(e,t||[])).next())})};function Yu(e){return t=>new fe(n=>{const r=new Lt(n),o=t.subscribe({complete(){r.complete()},error(s){r.error(s)},next(s){r.schedule(i=>Xu(this,void 0,void 0,function*(){(yield e(s))&&i(s)}))}});return()=>Fe(o)})}function Zu(e){return e&&ut("asyncIterator")&&e[Symbol.asyncIterator]}function Qu(e){return e&&ut("iterator")&&e[Symbol.iterator]}var ef=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function l(u){try{a(r.next(u))}catch(f){i(f)}}function c(u){try{a(r.throw(u))}catch(f){i(f)}}function a(u){u.done?s(u.value):o(u.value).then(l,c)}a((r=r.apply(e,t||[])).next())})},tf=globalThis&&globalThis.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(l,c){i=e[s](i),o(l,c,i.done,i.value)})}}function o(s,i,l,c){Promise.resolve(c).then(function(a){s({value:a,done:l})},i)}};function nf(e){return t=>new fe(n=>{const r=new Lt(n),o=t.subscribe({complete(){r.complete()},error(s){r.error(s)},next(s){r.schedule(i=>ef(this,void 0,void 0,function*(){var l,c;const a=yield e(s);if(Qu(a)||Zu(a))try{for(var u=tf(a),f;f=yield u.next(),!f.done;){const d=f.value;i(d)}}catch(d){l={error:d}}finally{try{f&&!f.done&&(c=u.return)&&(yield c.call(u))}finally{if(l)throw l.error}}else a.map(d=>i(d))}))}});return()=>Fe(o)})}function rf(e){return new re(t=>{let n=0;const r=setInterval(()=>{t.next(n++)},e);return()=>clearInterval(r)})}var sf=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function l(u){try{a(r.next(u))}catch(f){i(f)}}function c(u){try{a(r.throw(u))}catch(f){i(f)}}function a(u){u.done?s(u.value):o(u.value).then(l,c)}a((r=r.apply(e,t||[])).next())})};function of(e){return t=>new fe(n=>{const r=new Lt(n),o=t.subscribe({complete(){r.complete()},error(s){r.error(s)},next(s){r.schedule(i=>sf(this,void 0,void 0,function*(){const l=yield e(s);i(l)}))}});return()=>Fe(o)})}function lf(...e){return e.length===0?re.from([]):new re(t=>{let n=0;const r=e.map(s=>s.subscribe({error(i){t.error(i),o()},next(i){t.next(i)},complete(){++n===e.length&&(t.complete(),o())}})),o=()=>{r.forEach(s=>Fe(s))};return o})}class cf extends fe{constructor(){super(t=>(this._observers.add(t),()=>this._observers.delete(t))),this._observers=new Set}next(t){for(const n of this._observers)n.next(t)}error(t){for(const n of this._observers)n.error(t)}complete(){for(const t of this._observers)t.complete()}}const ns=cf;function rs(e){const t=new ns;let n,r=0;return new fe(o=>{n||(n=e.subscribe(t));const s=t.subscribe(o);return r++,()=>{r--,s.unsubscribe(),r===0&&(Fe(n),n=void 0)}})}var af=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function l(u){try{a(r.next(u))}catch(f){i(f)}}function c(u){try{a(r.throw(u))}catch(f){i(f)}}function a(u){u.done?s(u.value):o(u.value).then(l,c)}a((r=r.apply(e,t||[])).next())})};function uf(e,t){return n=>new fe(r=>{let o,s=0;const i=new Lt(r),l=n.subscribe({complete(){i.complete()},error(c){i.error(c)},next(c){i.schedule(a=>af(this,void 0,void 0,function*(){o=yield e(s===0?typeof t>"u"?c:t:o,c,s++),a(o)}))}});return()=>Fe(l)})}const ff=Object.freeze(Object.defineProperty({__proto__:null,filter:Yu,flatMap:nf,interval:rf,map:of,merge:lf,multicast:rs,Observable:fe,scan:uf,Subject:ns,unsubscribe:Fe},Symbol.toStringTag,{value:"Module"})),ss=Symbol("thread.errors"),os=Symbol("thread.events"),is=Symbol("thread.terminate"),df=Symbol("thread.transferable"),pf=Symbol("thread.worker");function gr(e){throw Error(e)}const br={errors(e){return e[ss]||gr("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise.")},events(e){return e[os]||gr("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise.")},terminate(e){return e[is]()}},hf=()=>{};function mf(){let e=!1,t,n=hf;return[new Promise(s=>{e?s(t):n=s}),s=>{e=!0,t=s,n(t)}]}var Ne;(function(e){e.internalError="internalError",e.message="message",e.termination="termination"})(Ne||(Ne={}));const _f=()=>{},gf=e=>e,yr=e=>Promise.resolve().then(e);function bf(e){throw e}function yf(e){return e&&typeof e.then=="function"}class Et extends fe{constructor(t){super(n=>{const r=this,o=Object.assign(Object.assign({},n),{complete(){n.complete(),r.onCompletion()},error(s){n.error(s),r.onError(s)},next(s){n.next(s),r.onNext(s)}});try{return this.initHasRun=!0,t(o)}catch(s){o.error(s)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(t){this.firstValueSet||(this.firstValue=t,this.firstValueSet=!0)}onError(t){this.state="rejected",this.rejection=t;for(const n of this.rejectionCallbacks)yr(()=>n(t))}onCompletion(){this.state="fulfilled";for(const t of this.fulfillmentCallbacks)yr(()=>t(this.firstValue))}then(t,n){const r=t||gf,o=n||bf;let s=!1;return new Promise((i,l)=>{const c=u=>{if(!s){s=!0;try{i(o(u))}catch(f){l(f)}}},a=u=>{try{i(r(u))}catch(f){c(f)}};if(this.initHasRun||this.subscribe({error:c}),this.state==="fulfilled")return i(r(this.firstValue));if(this.state==="rejected")return s=!0,i(o(this.rejection));this.fulfillmentCallbacks.push(a),this.rejectionCallbacks.push(c)})}catch(t){return this.then(void 0,t)}finally(t){const n=t||_f;return this.then(r=>(n(),r),()=>n())}static from(t){return yf(t)?new Et(n=>{const r=s=>{n.next(s),n.complete()},o=s=>{n.error(s)};t.then(r,o)}):super.from(t)}}function wf(e){return e&&typeof e=="object"&&e[df]}var St;(function(e){e.cancel="cancel",e.run="run"})(St||(St={}));var lt;(function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"})(lt||(lt={}));const ls=ke("threads:master:messages");let vf=1;const $f=e=>Array.from(new Set(e)),Cf=e=>e&&e.type===lt.error,kf=e=>e&&e.type===lt.result,Ef=e=>e&&e.type===lt.running;function Sf(e,t){return new fe(n=>{let r;const o=s=>{if(ls("Message from worker:",s.data),!(!s.data||s.data.uid!==t)){if(Ef(s.data))r=s.data.resultType;else if(kf(s.data))r==="promise"?(typeof s.data.payload<"u"&&n.next(_t(s.data.payload)),n.complete(),e.removeEventListener("message",o)):(s.data.payload&&n.next(_t(s.data.payload)),s.data.complete&&(n.complete(),e.removeEventListener("message",o)));else if(Cf(s.data)){const i=_t(s.data.error);n.error(i),e.removeEventListener("message",o)}}};return e.addEventListener("message",o),()=>{if(r==="observable"||!r){const s={type:St.cancel,uid:t};e.postMessage(s)}e.removeEventListener("message",o)}})}function Af(e){if(e.length===0)return{args:[],transferables:[]};const t=[],n=[];for(const r of e)wf(r)?(t.push(_r(r.send)),n.push(...r.transferables)):t.push(_r(r));return{args:t,transferables:n.length===0?n:$f(n)}}function cs(e,t){return(...n)=>{const r=vf++,{args:o,transferables:s}=Af(n),i={type:St.run,uid:r,method:t,args:o};ls("Sending command to run function to worker:",i);try{e.postMessage(i,s)}catch(l){return Et.from(Promise.reject(l))}return Et.from(rs(Sf(e,r)))}}function Tf(e,t){const n={};for(const r of t)n[r]=cs(e,r);return n}var _n=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function l(u){try{a(r.next(u))}catch(f){i(f)}}function c(u){try{a(r.throw(u))}catch(f){i(f)}}function a(u){u.done?s(u.value):o(u.value).then(l,c)}a((r=r.apply(e,t||[])).next())})};const Pf=ke("threads:master:messages"),xf=ke("threads:master:spawn"),as=ke("threads:master:thread-utils"),Of=e=>e&&e.type==="init",If=e=>e&&e.type==="uncaughtError",Ff=typeof process<"u"&&process.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(process.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function jf(e,t,n){return _n(this,void 0,void 0,function*(){let r;const o=new Promise((i,l)=>{r=setTimeout(()=>l(Error(n)),t)}),s=yield Promise.race([e,o]);return clearTimeout(r),s})}function Mf(e){return new Promise((t,n)=>{const r=o=>{Pf("Message from worker before finishing initialization:",o.data),Of(o.data)?(e.removeEventListener("message",r),t(o.data)):If(o.data)&&(e.removeEventListener("message",r),n(_t(o.data.error)))};e.addEventListener("message",r)})}function Lf(e,t){return new fe(n=>{const r=s=>{const i={type:Ne.message,data:s.data};n.next(i)},o=s=>{as("Unhandled promise rejection event in thread:",s);const i={type:Ne.internalError,error:Error(s.reason)};n.next(i)};e.addEventListener("message",r),e.addEventListener("unhandledrejection",o),t.then(()=>{const s={type:Ne.termination};e.removeEventListener("message",r),e.removeEventListener("unhandledrejection",o),n.next(s),n.complete()})})}function Nf(e){const[t,n]=mf();return{terminate:()=>_n(this,void 0,void 0,function*(){as("Terminating worker"),yield e.terminate(),n()}),termination:t}}function wr(e,t,n,r){const o=n.filter(s=>s.type===Ne.internalError).map(s=>s.error);return Object.assign(e,{[ss]:o,[os]:n,[is]:r,[pf]:t})}function Df(e,t){return _n(this,void 0,void 0,function*(){xf("Initializing new thread");const n=t&&t.timeout?t.timeout:Ff,o=(yield jf(Mf(e),n,`Timeout: Did not receive an init message from worker after ${n}ms. Make sure the worker calls expose().`)).exposed,{termination:s,terminate:i}=Nf(e),l=Lf(e,s);if(o.type==="function"){const c=cs(e);return wr(c,e,l,i)}else if(o.type==="module"){const c=Tf(e,o.methods);return wr(c,e,l,i)}else{const c=o.type;throw Error(`Worker init message states unexpected type of expose(): ${c}`)}})}var us={};const Rf=Kc(ff);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Subject=e.Observable=void 0;const t=Rf;Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return t.Observable}});const n=Symbol("observers");class r extends t.Observable{constructor(){super(s=>(this[n]=[...this[n]||[],s],()=>{this[n]=this[n].filter(l=>l!==s)})),this[n]=[]}complete(){this[n].forEach(s=>s.complete())}error(s){this[n].forEach(i=>i.error(s))}next(s){this[n].forEach(i=>i.next(s))}}e.Subject=r})(us);const fs=qc(us),zf=fs.Observable,Gf=fs.Subject;class Hf{constructor(t,n,r){Z(this,"execution_state");Z(this,"program");Z(this,"_source",new Gf);Z(this,"wait_spawn");Z(this,"impl",null);Z(this,"note");this.builder=t,this.pid=n,this.init_memory=r,this.note=ke(`WebWorkerProcess[${n}]`);const o=i=>{this._source.next(i)};this.wait_spawn=(async()=>{const i=await Df(this.builder());await i.memory_msg().subscribe(o),await i.core_msg().subscribe(o),await i.debug_msg().subscribe(o),await br.events(i).subscribe(o),this.note("spawned."),this.impl=i})();const s=new Bf(this.pid,this.source);this.program=s.program,this.execution_state=s.execution_state}get source(){return zf.from(this._source)}async kill(){await this.wait_spawn,await br.terminate(this.impl)}async pause(){await this.wait_spawn,await this.impl.request_pause()}async resume(){await this.wait_spawn,await this.impl.resume()}async start(){await this.wait_spawn,await this.impl.run(this.pid,this.init_memory)}async set_breakpoint(t){await this.wait_spawn,t?await this.impl.enable_breakpoints():await this.impl.disable_breakpoints()}}function ds(e){const t=new Set(e);return n=>t.has(n.type)}class Bf{constructor(t,n){Z(this,"program");Z(this,"execution_state");Z(this,"note");this.pid=t,this.source=n,this.note=ke(`WebWorkerProcessObserver[${t}]`),this.execution_state=ue(ee.ready),this.program=new Uf(this.source),this.source.filter(ds(["ready","paused","running","completed"])).subscribe(this.sub.bind(this))}sub(t){const n=ee[t.type];Kr(n)?this.note(`ProcessLifeCycle[${t.type}] is undefined`):this.execution_state.set(n)}}class Uf{constructor(t){Z(this,"locking_state",ue(rt.Locking));Z(this,"line_number",ue(0));this.source=t,this.source.filter(ds(["lineno","pre","post"])).subscribe(this.sub.bind(this))}sub(t){switch(t.type){case"lineno":return this.line_number.set(t.payload);case"pre":return this.locking_state.set(rt.Locked);case"post":return this.locking_state.set(rt.Unlocked)}}}const Wf=ke("WebWorkerProcessGroup");class qf{constructor(t,n,r){Z(this,"processes",[]);Z(this,"memory",new Map);Z(this,"execution_state");Z(this,"program");this.process_count=t,this.builder=n,this.get_memory=r;const o=this.get_memory(this.process_count);for(const l in o)this.memory.set(l,ue([]));const[s,i]=Gu(o);for(let l=0;l<t;l++){const c=new Hf(this.builder,l,o);c.source.subscribe(a=>{i(a),ne(a)&&a.length===3&&this.processes.map(u=>u.impl.update(a))}),this.processes.push(c)}s.subscribe(l=>{for(const c in l)this.memory.get(c).set(ct(l[c]))}),this.execution_state=this.processes.map(l=>l.execution_state),this.program=this.processes.map(l=>l.program),Wf(`has ${t} processes`)}async kill(){await Promise.all(this.processes.map(t=>t.kill()))}async pause(){await Promise.all(this.processes.map(t=>t.pause()))}async resume(){await Promise.all(this.processes.map(t=>t.resume()))}async start(){await Promise.all(this.processes.map(t=>t.start()))}async set_breakpoint(t){await Promise.all(this.processes.map(n=>n.set_breakpoint(t)))}get all(){return this}pid(t){return this.processes[t]}}const Kf=e=>({}),vr=e=>({slot:"left"}),Vf=e=>({}),$r=e=>({slot:"middle"}),Jf=e=>({}),Cr=e=>({slot:"right"});function Xf(e){let t,n,r;function o(i){e[14](i)}let s={options:e[6]};return e[5]!==void 0&&(s.selected=e[5]),t=new su({props:s}),De.push(()=>wt(t,"selected",o)),{c(){R(t.$$.fragment)},m(i,l){L(t,i,l),r=!0},p(i,l){const c={};!n&&l&32&&(n=!0,c.selected=i[5],yt(()=>n=!1)),t.$set(c)},i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){A(t.$$.fragment,i),r=!1},d(i){N(t,i)}}}function Yf(e){let t;const n=e[11].default,r=ge(n,e,e[15],vr),o=r||Xf(e);return{c(){o&&o.c()},m(s,i){o&&o.m(s,i),t=!0},p(s,i){r?r.p&&(!t||i&32768)&&ye(r,n,s,s[15],t?be(n,s[15],i,Kf):we(s[15]),vr):o&&o.p&&(!t||i&32)&&o.p(s,t?i:-1)},i(s){t||(S(o,s),t=!0)},o(s){A(o,s),t=!1},d(s){o&&o.d(s)}}}function Zf(e){let t,n,r,o;function s(c){e[12](c)}function i(c){e[13](c)}let l={max_process_count:e[4]};return e[0]!==void 0&&(l.process_count=e[0]),e[3]!==void 0&&(l.enable_breakpoint=e[3]),t=new lu({props:l}),De.push(()=>wt(t,"process_count",s)),De.push(()=>wt(t,"enable_breakpoint",i)),{c(){R(t.$$.fragment)},m(c,a){L(t,c,a),o=!0},p(c,a){const u={};a&16&&(u.max_process_count=c[4]),!n&&a&1&&(n=!0,u.process_count=c[0],yt(()=>n=!1)),!r&&a&8&&(r=!0,u.enable_breakpoint=c[3],yt(()=>r=!1)),t.$set(u)},i(c){o||(S(t.$$.fragment,c),o=!0)},o(c){A(t.$$.fragment,c),o=!1},d(c){N(t,c)}}}function Qf(e){let t;const n=e[11].default,r=ge(n,e,e[15],$r),o=r||Zf(e);return{c(){o&&o.c()},m(s,i){o&&o.m(s,i),t=!0},p(s,i){r?r.p&&(!t||i&32768)&&ye(r,n,s,s[15],t?be(n,s[15],i,Vf):we(s[15]),$r):o&&o.p&&(!t||i&25)&&o.p(s,t?i:-1)},i(s){t||(S(o,s),t=!0)},o(s){A(o,s),t=!1},d(s){o&&o.d(s)}}}function ed(e){let t,n;return t=new tu({props:{getProcessGroup:e[2]}}),{c(){R(t.$$.fragment)},m(r,o){L(t,r,o),n=!0},p(r,o){const s={};o&4&&(s.getProcessGroup=r[2]),t.$set(s)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){N(t,r)}}}function td(e){let t;const n=e[11].default,r=ge(n,e,e[15],Cr),o=r||ed(e);return{c(){o&&o.c()},m(s,i){o&&o.m(s,i),t=!0},p(s,i){r?r.p&&(!t||i&32768)&&ye(r,n,s,s[15],t?be(n,s[15],i,Jf):we(s[15]),Cr):o&&o.p&&(!t||i&4)&&o.p(s,t?i:-1)},i(s){t||(S(o,s),t=!0)},o(s){A(o,s),t=!1},d(s){o&&o.d(s)}}}function nd(e){let t,n,r;return n=new vu({props:{offset:e[1],$$slots:{right:[td],middle:[Qf],left:[Yf]},$$scope:{ctx:e}}}),{c(){t=m("div"),R(n.$$.fragment),p(t,"class","w-full overflow-x-hidden")},m(o,s){w(o,t,s),L(n,t,null),r=!0},p(o,[s]){const i={};s&2&&(i.offset=o[1]),s&32829&&(i.$$scope={dirty:s,ctx:o}),n.$set(i)},i(o){r||(S(n.$$.fragment,o),r=!0)},o(o){A(n.$$.fragment,o),r=!1},d(o){o&&y(t),N(n)}}}const rd=4,sd=20;function od(e,t,n){let r,o,s,i,l;de(e,$u,_=>n(1,r=_));let{$$slots:c={},$$scope:a}=t;const u=Array.from(zu.values());let f=ue(Ec(u));de(e,f,_=>n(5,l=_));let d=rd;const b=ae(f,_=>{var g;return(g=_==null?void 0:_.max_process_count)!=null?g:sd});de(e,b,_=>n(4,i=_));let $=ue(!1);de(e,$,_=>n(3,s=_)),Nt("enable_breakpoint",$),Nt("source_code",ae(f,_=>_.source_code)),Nt("memory_transform",ae(f,_=>_.memory_transform));const k=ae(f,(_,g)=>g(()=>new qf(d,_.algorithm_impl_builder,_.get_memory)));de(e,k,_=>n(2,o=_));function E(_){d=_,n(0,d)}function P(_){s=_,$.set(s)}function C(_){l=_,f.set(l)}return e.$$set=_=>{"$$scope"in _&&n(15,a=_.$$scope)},[d,r,o,s,i,l,u,f,b,$,k,c,E,P,C,a]}class id extends J{constructor(t){super(),V(this,t,od,nd,q,{})}}new id({target:document.getElementById("app")})});export default ld();
